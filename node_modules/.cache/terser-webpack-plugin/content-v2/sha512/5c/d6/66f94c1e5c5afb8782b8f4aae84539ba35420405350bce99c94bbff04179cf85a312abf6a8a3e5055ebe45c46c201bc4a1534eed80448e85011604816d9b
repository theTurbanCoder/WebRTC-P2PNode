{"code":"!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=7)}([function(e,t,n){\"use strict\";(function(e){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\nvar r=n(4),i=n(5),o=n(6);function s(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e,t){if(s()<t)throw new RangeError(\"Invalid typed array length\");return a.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=a.prototype:(null===e&&(e=new a(t)),e.length=t),e}function a(e,t,n){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(e,t,n);if(\"number\"==typeof e){if(\"string\"==typeof t)throw new Error(\"If encoding is specified then the first argument must be a string\");return c(this,e)}return f(this,e,t,n)}function f(e,t,n,r){if(\"number\"==typeof t)throw new TypeError('\"value\" argument must not be a number');return\"undefined\"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError(\"'offset' is out of bounds\");if(t.byteLength<n+(r||0))throw new RangeError(\"'length' is out of bounds\");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);a.TYPED_ARRAY_SUPPORT?(e=t).__proto__=a.prototype:e=_(e,t);return e}(e,t,n,r):\"string\"==typeof t?function(e,t,n){\"string\"==typeof n&&\"\"!==n||(n=\"utf8\");if(!a.isEncoding(n))throw new TypeError('\"encoding\" must be a valid string encoding');var r=0|p(t,n),i=(e=u(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(a.isBuffer(t)){var n=0|h(t.length);return 0===(e=u(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if(\"undefined\"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||\"length\"in t)return\"number\"!=typeof t.length||(r=t.length)!=r?u(e,0):_(e,t);if(\"Buffer\"===t.type&&o(t.data))return _(e,t.data)}var r;throw new TypeError(\"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\")}(e,t)}function l(e){if(\"number\"!=typeof e)throw new TypeError('\"size\" argument must be a number');if(e<0)throw new RangeError('\"size\" argument must not be negative')}function c(e,t){if(l(t),e=u(e,t<0?0:0|h(t)),!a.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function _(e,t){var n=t.length<0?0:0|h(t.length);e=u(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=s())throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+s().toString(16)+\" bytes\");return 0|e}function p(e,t){if(a.isBuffer(e))return e.length;if(\"undefined\"!=typeof ArrayBuffer&&\"function\"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;\"string\"!=typeof e&&(e=\"\"+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case\"ascii\":case\"latin1\":case\"binary\":return n;case\"utf8\":case\"utf-8\":case void 0:return z(e).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*n;case\"hex\":return n>>>1;case\"base64\":return Y(e).length;default:if(r)return z(e).length;t=(\"\"+t).toLowerCase(),r=!0}}function b(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return\"\";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return\"\";if((n>>>=0)<=(t>>>=0))return\"\";for(e||(e=\"utf8\");;)switch(e){case\"hex\":return D(this,t,n);case\"utf8\":case\"utf-8\":return O(this,t,n);case\"ascii\":return T(this,t,n);case\"latin1\":case\"binary\":return I(this,t,n);case\"base64\":return v(this,t,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return R(this,t,n);default:if(r)throw new TypeError(\"Unknown encoding: \"+e);e=(e+\"\").toLowerCase(),r=!0}}function d(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,i){if(0===e.length)return-1;if(\"string\"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if(\"string\"==typeof t&&(t=a.from(t,r)),a.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if(\"number\"==typeof t)return t&=255,a.TYPED_ARRAY_SUPPORT&&\"function\"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError(\"val must be string, number or Buffer\")}function y(e,t,n,r,i){var o,s=1,u=e.length,a=t.length;if(void 0!==r&&(\"ucs2\"===(r=String(r).toLowerCase())||\"ucs-2\"===r||\"utf16le\"===r||\"utf-16le\"===r)){if(e.length<2||t.length<2)return-1;s=2,u/=2,a/=2,n/=2}function f(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=n;o<u;o++)if(f(e,o)===f(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===a)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+a>u&&(n=u-a),o=n;o>=0;o--){for(var c=!0,_=0;_<a;_++)if(f(e,o+_)!==f(t,_)){c=!1;break}if(c)return o}return-1}function m(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError(\"Invalid hex string\");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var u=parseInt(t.substr(2*s,2),16);if(isNaN(u))return s;e[n+s]=u}return s}function w(e,t,n,r){return F(z(t,e.length-n),e,n,r)}function E(e,t,n,r){return F(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function N(e,t,n,r){return E(e,t,n,r)}function S(e,t,n,r){return F(Y(t),e,n,r)}function B(e,t,n,r){return F(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function v(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,u,a,f=e[i],l=null,c=f>239?4:f>223?3:f>191?2:1;if(i+c<=n)switch(c){case 1:f<128&&(l=f);break;case 2:128==(192&(o=e[i+1]))&&(a=(31&f)<<6|63&o)>127&&(l=a);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(a=(15&f)<<12|(63&o)<<6|63&s)>2047&&(a<55296||a>57343)&&(l=a);break;case 4:o=e[i+1],s=e[i+2],u=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&u)&&(a=(15&f)<<18|(63&o)<<12|(63&s)<<6|63&u)>65535&&a<1114112&&(l=a)}null===l?(l=65533,c=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=c}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);var n=\"\",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=A));return n}(r)}t.Buffer=a,t.SlowBuffer=function(e){+e!=e&&(e=0);return a.alloc(+e)},t.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&\"function\"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),a.poolSize=8192,a._augment=function(e){return e.__proto__=a.prototype,e},a.from=function(e,t,n){return f(null,e,t,n)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,\"undefined\"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?u(e,t):void 0!==n?\"string\"==typeof r?u(e,t).fill(n,r):u(e,t).fill(n):u(e,t)}(null,e,t,n)},a.allocUnsafe=function(e){return c(null,e)},a.allocUnsafeSlow=function(e){return c(null,e)},a.isBuffer=function(e){return!(null==e||!e._isBuffer)},a.compare=function(e,t){if(!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError(\"Arguments must be Buffers\");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},a.concat=function(e,t){if(!o(e))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=a.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!a.isBuffer(s))throw new TypeError('\"list\" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(var t=0;t<e;t+=2)d(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(var t=0;t<e;t+=4)d(this,t,t+3),d(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(var t=0;t<e;t+=8)d(this,t,t+7),d(this,t+1,t+6),d(this,t+2,t+5),d(this,t+3,t+4);return this},a.prototype.toString=function(){var e=0|this.length;return 0===e?\"\":0===arguments.length?O(this,0,e):b.apply(this,arguments)},a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e=\"\",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString(\"hex\",0,n).match(/.{2}/g).join(\" \"),this.length>n&&(e+=\" ... \")),\"<Buffer \"+e+\">\"},a.prototype.compare=function(e,t,n,r,i){if(!a.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError(\"out of range index\");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),u=Math.min(o,s),f=this.slice(r,i),l=e.slice(t,n),c=0;c<u;++c)if(f[c]!==l[c]){o=f[c],s=l[c];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},a.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},a.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},a.prototype.write=function(e,t,n,r){if(void 0===t)r=\"utf8\",n=this.length,t=0;else if(void 0===n&&\"string\"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");t|=0,isFinite(n)?(n|=0,void 0===r&&(r=\"utf8\")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");r||(r=\"utf8\");for(var o=!1;;)switch(r){case\"hex\":return m(this,e,t,n);case\"utf8\":case\"utf-8\":return w(this,e,t,n);case\"ascii\":return E(this,e,t,n);case\"latin1\":case\"binary\":return N(this,e,t,n);case\"base64\":return S(this,e,t,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return B(this,e,t,n);default:if(o)throw new TypeError(\"Unknown encoding: \"+r);r=(\"\"+r).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function T(e,t,n){var r=\"\";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function I(e,t,n){var r=\"\";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function D(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i=\"\",o=t;o<n;++o)i+=j(e[o]);return i}function R(e,t,n){for(var r=e.slice(t,n),i=\"\",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function $(e,t,n){if(e%1!=0||e<0)throw new RangeError(\"offset is not uint\");if(e+t>n)throw new RangeError(\"Trying to access beyond buffer length\")}function x(e,t,n,r,i,o){if(!a.isBuffer(e))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('\"value\" argument is out of bounds');if(n+r>e.length)throw new RangeError(\"Index out of range\")}function P(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function C(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function U(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError(\"Index out of range\");if(n<0)throw new RangeError(\"Index out of range\")}function M(e,t,n,r,o){return o||U(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function k(e,t,n,r,o){return o||U(e,0,n,8),i.write(e,t,n,r,52,8),n+8}a.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),a.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=a.prototype;else{var i=t-e;n=new a(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},a.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||$(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},a.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||$(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},a.prototype.readUInt8=function(e,t){return t||$(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return t||$(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return t||$(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return t||$(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return t||$(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||$(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},a.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||$(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return t||$(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){t||$(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(e,t){t||$(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(e,t){return t||$(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return t||$(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return t||$(e,4,this.length),i.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return t||$(e,4,this.length),i.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return t||$(e,8,this.length),i.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return t||$(e,8,this.length),i.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||x(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},a.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||x(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},a.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,1,255,0),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},a.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},a.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):C(this,e,t,!0),t+4},a.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):C(this,e,t,!1),t+4},a.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);x(this,e,t,n,i-1,-i)}var o=0,s=1,u=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===u&&0!==this[t+o-1]&&(u=1),this[t+o]=(e/s>>0)-u&255;return t+n},a.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);x(this,e,t,n,i-1,-i)}var o=n-1,s=1,u=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===u&&0!==this[t+o+1]&&(u=1),this[t+o]=(e/s>>0)-u&255;return t+n},a.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,1,127,-128),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},a.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},a.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):C(this,e,t,!0),t+4},a.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||x(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):C(this,e,t,!1),t+4},a.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){return k(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){return k(this,e,t,!1,n)},a.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError(\"targetStart out of bounds\");if(n<0||n>=this.length)throw new RangeError(\"sourceStart out of bounds\");if(r<0)throw new RangeError(\"sourceEnd out of bounds\");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!a.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},a.prototype.fill=function(e,t,n,r){if(\"string\"==typeof e){if(\"string\"==typeof t?(r=t,t=0,n=this.length):\"string\"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&\"string\"!=typeof r)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof r&&!a.isEncoding(r))throw new TypeError(\"Unknown encoding: \"+r)}else\"number\"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError(\"Out of range index\");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),\"number\"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=a.isBuffer(e)?e:z(new a(e,r).toString()),u=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%u]}return this};var L=/[^+\\/0-9A-Za-z-_]/g;function j(e){return e<16?\"0\"+e.toString(16):e.toString(16)}function z(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error(\"Invalid code point\");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Y(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\\s+|\\s+$/g,\"\")}(e).replace(L,\"\")).length<2)return\"\";for(;e.length%4!=0;)e+=\"=\";return e}(e))}function F(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(2))},function(e,t){e.exports=r;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function r(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function i(e){return!0===(e&&e.__isLong__)}r.prototype.__isLong__,Object.defineProperty(r.prototype,\"__isLong__\",{value:!0}),r.isLong=i;var o={},s={};function u(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=s[e])?r:(n=f(e,(0|e)<0?-1:0,!0),i&&(s[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=o[e])?r:(n=f(e,e<0?-1:0,!1),i&&(o[e]=n),n)}function a(e,t){if(isNaN(e))return t?y:g;if(t){if(e<0)return y;if(e>=p)return S}else{if(e<=-b)return B;if(e+1>=b)return N}return e<0?a(-e,t).neg():f(e%h|0,e/h|0,t)}function f(e,t,n){return new r(e,t,n)}r.fromInt=u,r.fromNumber=a,r.fromBits=f;var l=Math.pow;function c(e,t,n){if(0===e.length)throw Error(\"empty string\");if(\"NaN\"===e||\"Infinity\"===e||\"+Infinity\"===e||\"-Infinity\"===e)return g;if(\"number\"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError(\"radix\");var r;if((r=e.indexOf(\"-\"))>0)throw Error(\"interior hyphen\");if(0===r)return c(e.substring(1),t,n).neg();for(var i=a(l(n,8)),o=g,s=0;s<e.length;s+=8){var u=Math.min(8,e.length-s),f=parseInt(e.substring(s,s+u),n);if(u<8){var _=a(l(n,u));o=o.mul(_).add(a(f))}else o=(o=o.mul(i)).add(a(f))}return o.unsigned=t,o}function _(e,t){return\"number\"==typeof e?a(e,t):\"string\"==typeof e?c(e,t):f(e.low,e.high,\"boolean\"==typeof t?t:e.unsigned)}r.fromString=c,r.fromValue=_;var h=4294967296,p=h*h,b=p/2,d=u(1<<24),g=u(0);r.ZERO=g;var y=u(0,!0);r.UZERO=y;var m=u(1);r.ONE=m;var w=u(1,!0);r.UONE=w;var E=u(-1);r.NEG_ONE=E;var N=f(-1,2147483647,!1);r.MAX_VALUE=N;var S=f(-1,-1,!0);r.MAX_UNSIGNED_VALUE=S;var B=f(0,-2147483648,!1);r.MIN_VALUE=B;var v=r.prototype;v.toInt=function(){return this.unsigned?this.low>>>0:this.low},v.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},v.toString=function(e){if((e=e||10)<2||36<e)throw RangeError(\"radix\");if(this.isZero())return\"0\";if(this.isNegative()){if(this.eq(B)){var t=a(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return\"-\"+this.neg().toString(e)}for(var i=a(l(e,6),this.unsigned),o=this,s=\"\";;){var u=o.div(i),f=(o.sub(u.mul(i)).toInt()>>>0).toString(e);if((o=u).isZero())return f+s;for(;f.length<6;)f=\"0\"+f;s=\"\"+f+s}},v.getHighBits=function(){return this.high},v.getHighBitsUnsigned=function(){return this.high>>>0},v.getLowBits=function(){return this.low},v.getLowBitsUnsigned=function(){return this.low>>>0},v.getNumBitsAbs=function(){if(this.isNegative())return this.eq(B)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},v.isZero=function(){return 0===this.high&&0===this.low},v.eqz=v.isZero,v.isNegative=function(){return!this.unsigned&&this.high<0},v.isPositive=function(){return this.unsigned||this.high>=0},v.isOdd=function(){return 1==(1&this.low)},v.isEven=function(){return 0==(1&this.low)},v.equals=function(e){return i(e)||(e=_(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},v.eq=v.equals,v.notEquals=function(e){return!this.eq(e)},v.neq=v.notEquals,v.ne=v.notEquals,v.lessThan=function(e){return this.comp(e)<0},v.lt=v.lessThan,v.lessThanOrEqual=function(e){return this.comp(e)<=0},v.lte=v.lessThanOrEqual,v.le=v.lessThanOrEqual,v.greaterThan=function(e){return this.comp(e)>0},v.gt=v.greaterThan,v.greaterThanOrEqual=function(e){return this.comp(e)>=0},v.gte=v.greaterThanOrEqual,v.ge=v.greaterThanOrEqual,v.compare=function(e){if(i(e)||(e=_(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},v.comp=v.compare,v.negate=function(){return!this.unsigned&&this.eq(B)?B:this.not().add(m)},v.neg=v.negate,v.add=function(e){i(e)||(e=_(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,o=65535&this.low,s=e.high>>>16,u=65535&e.high,a=e.low>>>16,l=0,c=0,h=0,p=0;return h+=(p+=o+(65535&e.low))>>>16,c+=(h+=r+a)>>>16,l+=(c+=n+u)>>>16,l+=t+s,f((h&=65535)<<16|(p&=65535),(l&=65535)<<16|(c&=65535),this.unsigned)},v.subtract=function(e){return i(e)||(e=_(e)),this.add(e.neg())},v.sub=v.subtract,v.multiply=function(e){if(this.isZero())return g;if(i(e)||(e=_(e)),n)return f(n.mul(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(B))return e.isOdd()?B:g;if(e.eq(B))return this.isOdd()?B:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(d)&&e.lt(d))return a(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,r=65535&this.high,o=this.low>>>16,s=65535&this.low,u=e.high>>>16,l=65535&e.high,c=e.low>>>16,h=65535&e.low,p=0,b=0,y=0,m=0;return y+=(m+=s*h)>>>16,b+=(y+=o*h)>>>16,y&=65535,b+=(y+=s*c)>>>16,p+=(b+=r*h)>>>16,b&=65535,p+=(b+=o*c)>>>16,b&=65535,p+=(b+=s*l)>>>16,p+=t*h+r*c+o*l+s*u,f((y&=65535)<<16|(m&=65535),(p&=65535)<<16|(b&=65535),this.unsigned)},v.mul=v.multiply,v.divide=function(e){if(i(e)||(e=_(e)),e.isZero())throw Error(\"division by zero\");var t,r,o;if(n)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?f((this.unsigned?n.div_u:n.div_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return w;o=y}else{if(this.eq(B))return e.eq(m)||e.eq(E)?B:e.eq(B)?m:(t=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?m:E:(r=this.sub(e.mul(t)),o=t.add(r.div(e)));if(e.eq(B))return this.unsigned?y:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=g}for(r=this;r.gte(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(t)/Math.LN2),u=s<=48?1:l(2,s-48),c=a(t),h=c.mul(e);h.isNegative()||h.gt(r);)h=(c=a(t-=u,this.unsigned)).mul(e);c.isZero()&&(c=m),o=o.add(c),r=r.sub(h)}return o},v.div=v.divide,v.modulo=function(e){return i(e)||(e=_(e)),n?f((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},v.mod=v.modulo,v.rem=v.modulo,v.not=function(){return f(~this.low,~this.high,this.unsigned)},v.and=function(e){return i(e)||(e=_(e)),f(this.low&e.low,this.high&e.high,this.unsigned)},v.or=function(e){return i(e)||(e=_(e)),f(this.low|e.low,this.high|e.high,this.unsigned)},v.xor=function(e){return i(e)||(e=_(e)),f(this.low^e.low,this.high^e.high,this.unsigned)},v.shiftLeft=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?f(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):f(0,this.low<<e-32,this.unsigned)},v.shl=v.shiftLeft,v.shiftRight=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?f(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):f(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},v.shr=v.shiftRight,v.shiftRightUnsigned=function(e){if(i(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?f(this.low>>>e|t<<32-e,t>>>e,this.unsigned):f(32===e?t:t>>>e-32,0,this.unsigned)},v.shru=v.shiftRightUnsigned,v.shr_u=v.shiftRightUnsigned,v.toSigned=function(){return this.unsigned?f(this.low,this.high,!1):this},v.toUnsigned=function(){return this.unsigned?this:f(this.low,this.high,!0)},v.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},v.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},v.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},function(e,t){var n;n=function(){return this}();try{n=n||new Function(\"return this\")()}catch(e){\"object\"==typeof window&&(n=window)}e.exports=n},function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),function(global,Buffer){__webpack_require__.d(__webpack_exports__,\"BSON_INT32_MAX\",function(){return bson_1}),__webpack_require__.d(__webpack_exports__,\"BSON_INT32_MIN\",function(){return bson_2}),__webpack_require__.d(__webpack_exports__,\"BSON_INT64_MAX\",function(){return bson_3}),__webpack_require__.d(__webpack_exports__,\"BSON_INT64_MIN\",function(){return bson_4}),__webpack_require__.d(__webpack_exports__,\"JS_INT_MAX\",function(){return bson_5}),__webpack_require__.d(__webpack_exports__,\"JS_INT_MIN\",function(){return bson_6}),__webpack_require__.d(__webpack_exports__,\"BSON_DATA_NUMBER\",function(){return bson_7}),__webpack_require__.d(__webpack_exports__,\"BSON_DATA_STRING\",function(){return bson_8}),__webpack_require__.d(__webpack_exports__,\"BSON_DATA_OBJECT\",function(){return bson_9}),__webpack_require__.d(__webpack_exports__,\"BSON_DATA_ARRAY\",function(){return bson_10}),__webpack_require__.d(__webpack_exports__,\"BSON_DATA_BINARY\",function(){return bson_11}),__webpack_require__.d(__webpack_exports__,\"BSON_DATA_UNDEFINED\",function(){return bson_12}),__webpack_require__.d(__webpack_exports__,\"BSON_DATA_OID\",function(){return bson_13}),__webpack_require__.d(__webpack_exports__,\"BSON_DATA_BOOLEAN\",function(){return bson_14}),__webpack_require__.d(__webpack_exports__,\"BSON_DATA_DATE\",function(){return bson_15}),__webpack_require__.d(__webpack_exports__,\"BSON_DATA_NULL\",function(){return bson_16}),__webpack_require__.d(__webpack_exports__,\"BSON_DATA_REGEXP\",function(){return bson_17}),__webpack_require__.d(__webpack_exports__,\"BSON_DATA_DBPOINTER\",function(){return bson_18}),__webpack_require__.d(__webpack_exports__,\"BSON_DATA_CODE\",function(){return bson_19}),__webpack_require__.d(__webpack_exports__,\"BSON_DATA_SYMBOL\",function(){return bson_20}),__webpack_require__.d(__webpack_exports__,\"BSON_DATA_CODE_W_SCOPE\",function(){return bson_21}),__webpack_require__.d(__webpack_exports__,\"BSON_DATA_INT\",function(){return bson_22}),__webpack_require__.d(__webpack_exports__,\"BSON_DATA_TIMESTAMP\",function(){return bson_23}),__webpack_require__.d(__webpack_exports__,\"BSON_DATA_LONG\",function(){return bson_24}),__webpack_require__.d(__webpack_exports__,\"BSON_DATA_DECIMAL128\",function(){return bson_25}),__webpack_require__.d(__webpack_exports__,\"BSON_DATA_MIN_KEY\",function(){return bson_26}),__webpack_require__.d(__webpack_exports__,\"BSON_DATA_MAX_KEY\",function(){return bson_27}),__webpack_require__.d(__webpack_exports__,\"BSON_BINARY_SUBTYPE_DEFAULT\",function(){return bson_28}),__webpack_require__.d(__webpack_exports__,\"BSON_BINARY_SUBTYPE_FUNCTION\",function(){return bson_29}),__webpack_require__.d(__webpack_exports__,\"BSON_BINARY_SUBTYPE_BYTE_ARRAY\",function(){return bson_30}),__webpack_require__.d(__webpack_exports__,\"BSON_BINARY_SUBTYPE_UUID\",function(){return bson_31}),__webpack_require__.d(__webpack_exports__,\"BSON_BINARY_SUBTYPE_MD5\",function(){return bson_32}),__webpack_require__.d(__webpack_exports__,\"BSON_BINARY_SUBTYPE_USER_DEFINED\",function(){return bson_33}),__webpack_require__.d(__webpack_exports__,\"Code\",function(){return bson_34}),__webpack_require__.d(__webpack_exports__,\"BSONSymbol\",function(){return bson_35}),__webpack_require__.d(__webpack_exports__,\"DBRef\",function(){return bson_36}),__webpack_require__.d(__webpack_exports__,\"Binary\",function(){return bson_37}),__webpack_require__.d(__webpack_exports__,\"ObjectId\",function(){return bson_38}),__webpack_require__.d(__webpack_exports__,\"Long\",function(){return bson_39}),__webpack_require__.d(__webpack_exports__,\"Timestamp\",function(){return bson_40}),__webpack_require__.d(__webpack_exports__,\"Double\",function(){return bson_41}),__webpack_require__.d(__webpack_exports__,\"Int32\",function(){return bson_42}),__webpack_require__.d(__webpack_exports__,\"MinKey\",function(){return bson_43}),__webpack_require__.d(__webpack_exports__,\"MaxKey\",function(){return bson_44}),__webpack_require__.d(__webpack_exports__,\"BSONRegExp\",function(){return bson_45}),__webpack_require__.d(__webpack_exports__,\"Decimal128\",function(){return bson_46}),__webpack_require__.d(__webpack_exports__,\"serialize\",function(){return bson_47}),__webpack_require__.d(__webpack_exports__,\"serializeWithBufferAndIndex\",function(){return bson_48}),__webpack_require__.d(__webpack_exports__,\"deserialize\",function(){return bson_49}),__webpack_require__.d(__webpack_exports__,\"calculateObjectSize\",function(){return bson_50}),__webpack_require__.d(__webpack_exports__,\"deserializeStream\",function(){return bson_51}),__webpack_require__.d(__webpack_exports__,\"setInternalBufferSize\",function(){return bson_52}),__webpack_require__.d(__webpack_exports__,\"ObjectID\",function(){return bson_53}),__webpack_require__.d(__webpack_exports__,\"EJSON\",function(){return bson_54});var long__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),long__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(long__WEBPACK_IMPORTED_MODULE_0__),buffer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),buffer__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(buffer__WEBPACK_IMPORTED_MODULE_1__),commonjsGlobal=\"undefined\"!=typeof window?window:void 0!==global?global:\"undefined\"!=typeof self?self:{};function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var map=createCommonjsModule(function(e){if(void 0!==commonjsGlobal.Map)e.exports=commonjsGlobal.Map,e.exports.Map=commonjsGlobal.Map;else{var t=function(e){this._keys=[],this._values={};for(var t=0;t<e.length;t++)if(null!=e[t]){var n=e[t],r=n[0],i=n[1];this._keys.push(r),this._values[r]={v:i,i:this._keys.length-1}}};t.prototype.clear=function(){this._keys=[],this._values={}},t.prototype.delete=function(e){var t=this._values[e];return null!=t&&(delete this._values[e],this._keys.splice(t.i,1),!0)},t.prototype.entries=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?[n,e._values[n].v]:void 0,done:void 0===n}}}},t.prototype.forEach=function(e,t){t=t||this;for(var n=0;n<this._keys.length;n++){var r=this._keys[n];e.call(t,this._values[r].v,r,t)}},t.prototype.get=function(e){return this._values[e]?this._values[e].v:void 0},t.prototype.has=function(e){return null!=this._values[e]},t.prototype.keys=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?n:void 0,done:void 0===n}}}},t.prototype.set=function(e,t){return this._values[e]?(this._values[e].v=t,this):(this._keys.push(e),this._values[e]={v:t,i:this._keys.length-1},this)},t.prototype.values=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?e._values[n].v:void 0,done:void 0===n}}}},Object.defineProperty(t.prototype,\"size\",{enumerable:!0,get:function(){return this._keys.length}}),e.exports=t}}),map_1=map.Map;long__WEBPACK_IMPORTED_MODULE_0___default.a.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}},long__WEBPACK_IMPORTED_MODULE_0___default.a.fromExtendedJSON=function(e,t){var n=long__WEBPACK_IMPORTED_MODULE_0___default.a.fromString(e.$numberLong);return t&&t.relaxed?n.toNumber():n},Object.defineProperty(long__WEBPACK_IMPORTED_MODULE_0___default.a.prototype,\"_bsontype\",{value:\"Long\"});var long_1=long__WEBPACK_IMPORTED_MODULE_0___default.a;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var Double=function(){function e(t){_classCallCheck(this,e),this.value=t}return _createClass(e,[{key:\"valueOf\",value:function(){return this.value}},{key:\"toJSON\",value:function(){return this.value}},{key:\"toExtendedJSON\",value:function(e){return e&&e.relaxed&&isFinite(this.value)?this.value:{$numberDouble:this.value.toString()}}}],[{key:\"fromExtendedJSON\",value:function(t,n){return n&&n.relaxed?parseFloat(t.$numberDouble):new e(parseFloat(t.$numberDouble))}}]),e}();Object.defineProperty(Double.prototype,\"_bsontype\",{value:\"Double\"});var double_1=Double;function _typeof(e){return(_typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function _classCallCheck$1(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function _defineProperties$1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$1(e,t,n){return t&&_defineProperties$1(e.prototype,t),n&&_defineProperties$1(e,n),e}function _possibleConstructorReturn(e,t){return!t||\"object\"!==_typeof(t)&&\"function\"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Timestamp=function(e){function t(e,n){var r;return _classCallCheck$1(this,t),r=long_1.isLong(e)?_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e.low,e.high)):_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n)),_possibleConstructorReturn(r)}return _inherits(t,long_1),_createClass$1(t,[{key:\"toJSON\",value:function(){return{$timestamp:this.toString()}}},{key:\"toExtendedJSON\",value:function(){return{$timestamp:{t:this.high,i:this.low}}}}],[{key:\"fromInt\",value:function(e){return new t(long_1.fromInt(e))}},{key:\"fromNumber\",value:function(e){return new t(long_1.fromNumber(e))}},{key:\"fromBits\",value:function(e,n){return new t(e,n)}},{key:\"fromString\",value:function(e,n){return new t(long_1.fromString(e,n))}},{key:\"fromExtendedJSON\",value:function(e){return new t(e.$timestamp.i,e.$timestamp.t)}}]),t}();Object.defineProperty(Timestamp.prototype,\"_bsontype\",{value:\"Timestamp\"});var timestamp=Timestamp,require$$0={};function normalizedFunctionString(e){return e.toString().replace(\"function(\",\"function (\")}function insecureRandomBytes(e){for(var t=new Uint8Array(e),n=0;n<e;++n)t[n]=Math.floor(256*Math.random());return t}var randomBytes=insecureRandomBytes;if(\"undefined\"!=typeof window&&window.crypto&&window.crypto.getRandomValues)randomBytes=function(e){return window.crypto.getRandomValues(new Uint8Array(e))};else{try{randomBytes=require$$0.randomBytes}catch(e){}null==randomBytes&&(randomBytes=insecureRandomBytes)}var utils={normalizedFunctionString:normalizedFunctionString,randomBytes:randomBytes};function defaultSetTimout(){throw new Error(\"setTimeout has not been defined\")}function defaultClearTimeout(){throw new Error(\"clearTimeout has not been defined\")}var cachedSetTimeout=defaultSetTimout,cachedClearTimeout=defaultClearTimeout;function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}\"function\"==typeof global.setTimeout&&(cachedSetTimeout=setTimeout),\"function\"==typeof global.clearTimeout&&(cachedClearTimeout=clearTimeout);var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function nextTick(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)}function Item(e,t){this.fun=e,this.array=t}Item.prototype.run=function(){this.fun.apply(null,this.array)};var title=\"browser\",platform=\"browser\",browser=!0,env={},argv=[],version=\"\",versions={},release={},config={};function noop(){}var on=noop,addListener=noop,once=noop,off=noop,removeListener=noop,removeAllListeners=noop,emit=noop;function binding(e){throw new Error(\"process.binding is not supported\")}function cwd(){return\"/\"}function chdir(e){throw new Error(\"process.chdir is not supported\")}function umask(){return 0}var performance=global.performance||{},performanceNow=performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return(new Date).getTime()};function hrtime(e){var t=.001*performanceNow.call(performance),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]}var startTime=new Date;function uptime(){return(new Date-startTime)/1e3}var process={nextTick:nextTick,title:title,browser:browser,env:env,argv:argv,version:version,versions:versions,on:on,addListener:addListener,once:once,off:off,removeListener:removeListener,removeAllListeners:removeAllListeners,emit:emit,binding:binding,cwd:cwd,chdir:chdir,umask:umask,hrtime:hrtime,platform:platform,release:release,config:config,uptime:uptime},inherits;inherits=\"function\"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};var inherits$1=inherits;function _typeof$1(e){return(_typeof$1=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}var formatRegExp=/%[sdj%]/g;function format(e){if(!isString(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(inspect(arguments[n]));return t.join(\" \")}n=1;for(var r=arguments,i=r.length,o=String(e).replace(formatRegExp,function(e){if(\"%%\"===e)return\"%\";if(n>=i)return e;switch(e){case\"%s\":return String(r[n++]);case\"%d\":return Number(r[n++]);case\"%j\":try{return JSON.stringify(r[n++])}catch(e){return\"[Circular]\"}default:return e}}),s=r[n];n<i;s=r[++n])isNull(s)||!isObject(s)?o+=\" \"+s:o+=\" \"+inspect(s);return o}function deprecate(e,t){if(isUndefined(global.process))return function(){return deprecate(e,t).apply(this,arguments)};var n=!1;return function(){return n||(console.error(t),n=!0),e.apply(this,arguments)}}var debugs={},debugEnviron;function debuglog(e){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||\"\"),e=e.toUpperCase(),!debugs[e])if(new RegExp(\"\\\\b\"+e+\"\\\\b\",\"i\").test(debugEnviron)){debugs[e]=function(){var t=format.apply(null,arguments);console.error(\"%s %d: %s\",e,0,t)}}else debugs[e]=function(){};return debugs[e]}function inspect(e,t){var n={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),isBoolean(t)?n.showHidden=t:t&&_extend(n,t),isUndefined(n.showHidden)&&(n.showHidden=!1),isUndefined(n.depth)&&(n.depth=2),isUndefined(n.colors)&&(n.colors=!1),isUndefined(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=stylizeWithColor),formatValue(n,e,n.depth)}function stylizeWithColor(e,t){var n=inspect.styles[t];return n?\"\u001b[\"+inspect.colors[n][0]+\"m\"+e+\"\u001b[\"+inspect.colors[n][1]+\"m\":e}function stylizeNoColor(e,t){return e}function arrayToHash(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function formatValue(e,t,n){if(e.customInspect&&t&&isFunction(t.inspect)&&t.inspect!==inspect&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return isString(r)||(r=formatValue(e,r,n)),r}var i=formatPrimitive(e,t);if(i)return i;var o=Object.keys(t),s=arrayToHash(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),isError(t)&&(o.indexOf(\"message\")>=0||o.indexOf(\"description\")>=0))return formatError(t);if(0===o.length){if(isFunction(t)){var u=t.name?\": \"+t.name:\"\";return e.stylize(\"[Function\"+u+\"]\",\"special\")}if(isRegExp(t))return e.stylize(RegExp.prototype.toString.call(t),\"regexp\");if(isDate(t))return e.stylize(Date.prototype.toString.call(t),\"date\");if(isError(t))return formatError(t)}var a,f=\"\",l=!1,c=[\"{\",\"}\"];(isArray(t)&&(l=!0,c=[\"[\",\"]\"]),isFunction(t))&&(f=\" [Function\"+(t.name?\": \"+t.name:\"\")+\"]\");return isRegExp(t)&&(f=\" \"+RegExp.prototype.toString.call(t)),isDate(t)&&(f=\" \"+Date.prototype.toUTCString.call(t)),isError(t)&&(f=\" \"+formatError(t)),0!==o.length||l&&0!=t.length?n<0?isRegExp(t)?e.stylize(RegExp.prototype.toString.call(t),\"regexp\"):e.stylize(\"[Object]\",\"special\"):(e.seen.push(t),a=l?formatArray(e,t,n,s,o):o.map(function(r){return formatProperty(e,t,n,s,r,l)}),e.seen.pop(),reduceToSingleString(a,f,c)):c[0]+f+c[1]}function formatPrimitive(e,t){if(isUndefined(t))return e.stylize(\"undefined\",\"undefined\");if(isString(t)){var n=\"'\"+JSON.stringify(t).replace(/^\"|\"$/g,\"\").replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"')+\"'\";return e.stylize(n,\"string\")}return isNumber(t)?e.stylize(\"\"+t,\"number\"):isBoolean(t)?e.stylize(\"\"+t,\"boolean\"):isNull(t)?e.stylize(\"null\",\"null\"):void 0}function formatError(e){return\"[\"+Error.prototype.toString.call(e)+\"]\"}function formatArray(e,t,n,r,i){for(var o=[],s=0,u=t.length;s<u;++s)hasOwnProperty(t,String(s))?o.push(formatProperty(e,t,n,r,String(s),!0)):o.push(\"\");return i.forEach(function(i){i.match(/^\\d+$/)||o.push(formatProperty(e,t,n,r,i,!0))}),o}function formatProperty(e,t,n,r,i,o){var s,u,a;if((a=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?u=a.set?e.stylize(\"[Getter/Setter]\",\"special\"):e.stylize(\"[Getter]\",\"special\"):a.set&&(u=e.stylize(\"[Setter]\",\"special\")),hasOwnProperty(r,i)||(s=\"[\"+i+\"]\"),u||(e.seen.indexOf(a.value)<0?(u=isNull(n)?formatValue(e,a.value,null):formatValue(e,a.value,n-1)).indexOf(\"\\n\")>-1&&(u=o?u.split(\"\\n\").map(function(e){return\"  \"+e}).join(\"\\n\").substr(2):\"\\n\"+u.split(\"\\n\").map(function(e){return\"   \"+e}).join(\"\\n\")):u=e.stylize(\"[Circular]\",\"special\")),isUndefined(s)){if(o&&i.match(/^\\d+$/))return u;(s=JSON.stringify(\"\"+i)).match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,\"name\")):(s=s.replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"').replace(/(^\"|\"$)/g,\"'\"),s=e.stylize(s,\"string\"))}return s+\": \"+u}function reduceToSingleString(e,t,n){return e.reduce(function(e,t){return t.indexOf(\"\\n\"),e+t.replace(/\\u001b\\[\\d\\d?m/g,\"\").length+1},0)>60?n[0]+(\"\"===t?\"\":t+\"\\n \")+\" \"+e.join(\",\\n  \")+\" \"+n[1]:n[0]+t+\" \"+e.join(\", \")+\" \"+n[1]}function isArray(e){return Array.isArray(e)}function isBoolean(e){return\"boolean\"==typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return\"number\"==typeof e}function isString(e){return\"string\"==typeof e}function isSymbol(e){return\"symbol\"===_typeof$1(e)}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&\"[object RegExp]\"===objectToString(e)}function isObject(e){return\"object\"===_typeof$1(e)&&null!==e}function isDate(e){return isObject(e)&&\"[object Date]\"===objectToString(e)}function isError(e){return isObject(e)&&(\"[object Error]\"===objectToString(e)||e instanceof Error)}function isFunction(e){return\"function\"==typeof e}function isPrimitive(e){return null===e||\"boolean\"==typeof e||\"number\"==typeof e||\"string\"==typeof e||\"symbol\"===_typeof$1(e)||void 0===e}function isBuffer(e){return Buffer.isBuffer(e)}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return e<10?\"0\"+e.toString(10):e.toString(10)}inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:\"cyan\",number:\"yellow\",boolean:\"yellow\",undefined:\"grey\",null:\"bold\",string:\"green\",date:\"magenta\",regexp:\"red\"};var months=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];function timestamp$1(){var e=new Date,t=[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(\":\");return[e.getDate(),months[e.getMonth()],t].join(\" \")}function log(){console.log(\"%s - %s\",timestamp$1(),format.apply(null,arguments))}function _extend(e,t){if(!t||!isObject(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var util={inherits:inherits$1,_extend:_extend,log:log,isBuffer:isBuffer,isPrimitive:isPrimitive,isFunction:isFunction,isError:isError,isDate:isDate,isObject:isObject,isRegExp:isRegExp,isUndefined:isUndefined,isSymbol:isSymbol,isString:isString,isNumber:isNumber,isNullOrUndefined:isNullOrUndefined,isNull:isNull,isBoolean:isBoolean,isArray:isArray,inspect:inspect,deprecate:deprecate,format:format,debuglog:debuglog};function _classCallCheck$2(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function _defineProperties$2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$2(e,t,n){return t&&_defineProperties$2(e.prototype,t),n&&_defineProperties$2(e,n),e}var Buffer$1=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,randomBytes$1=utils.randomBytes,deprecate$1=util.deprecate,PROCESS_UNIQUE=randomBytes$1(5),checkForHexRegExp=new RegExp(\"^[0-9a-fA-F]{24}$\"),hasBufferType=!1;try{Buffer$1&&Buffer$1.from&&(hasBufferType=!0)}catch(e){hasBufferType=!1}for(var hexTable=[],_i=0;_i<256;_i++)hexTable[_i]=(_i<=15?\"0\":\"\")+_i.toString(16);for(var decodeLookup=[],i=0;i<10;)decodeLookup[48+i]=i++;for(;i<16;)decodeLookup[55+i]=decodeLookup[87+i]=i++;var _Buffer=Buffer$1;function convertToHex(e){return e.toString(\"hex\")}function makeObjectIdError(e,t){var n=e[t];return new TypeError('ObjectId string \"'.concat(e,'\" contains invalid character \"').concat(n,'\" with character code (').concat(e.charCodeAt(t),\"). All character codes for a non-hex string must be less than 256.\"))}var ObjectId=function(){function e(t){if(_classCallCheck$2(this,e),t instanceof e)return t;if(null==t||\"number\"==typeof t)return this.id=e.generate(t),void(e.cacheHexString&&(this.__id=this.toString(\"hex\")));var n=e.isValid(t);if(!n&&null!=t)throw new TypeError(\"Argument passed in must be a single String of 12 bytes or a string of 24 hex characters\");if(n&&\"string\"==typeof t&&24===t.length&&hasBufferType)return new e(Buffer$1.from(t,\"hex\"));if(n&&\"string\"==typeof t&&24===t.length)return e.createFromHexString(t);if(null==t||12!==t.length){if(null!=t&&t.toHexString)return e.createFromHexString(t.toHexString());throw new TypeError(\"Argument passed in must be a single String of 12 bytes or a string of 24 hex characters\")}this.id=t,e.cacheHexString&&(this.__id=this.toString(\"hex\"))}return _createClass$2(e,[{key:\"toHexString\",value:function(){if(e.cacheHexString&&this.__id)return this.__id;var t=\"\";if(!this.id||!this.id.length)throw new TypeError(\"invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is [\"+JSON.stringify(this.id)+\"]\");if(this.id instanceof _Buffer)return t=convertToHex(this.id),e.cacheHexString&&(this.__id=t),t;for(var n=0;n<this.id.length;n++){var r=hexTable[this.id.charCodeAt(n)];if(\"string\"!=typeof r)throw makeObjectIdError(this.id,n);t+=r}return e.cacheHexString&&(this.__id=t),t}},{key:\"toString\",value:function(e){return this.id&&this.id.copy?this.id.toString(\"string\"==typeof e?e:\"hex\"):this.toHexString()}},{key:\"toJSON\",value:function(){return this.toHexString()}},{key:\"equals\",value:function(t){return t instanceof e?this.toString()===t.toString():\"string\"==typeof t&&e.isValid(t)&&12===t.length&&this.id instanceof _Buffer?t===this.id.toString(\"binary\"):\"string\"==typeof t&&e.isValid(t)&&24===t.length?t.toLowerCase()===this.toHexString():\"string\"==typeof t&&e.isValid(t)&&12===t.length?t===this.id:!(null==t||!(t instanceof e||t.toHexString))&&t.toHexString()===this.toHexString()}},{key:\"getTimestamp\",value:function(){var e=new Date,t=this.id.readUInt32BE(0);return e.setTime(1e3*Math.floor(t)),e}},{key:\"toExtendedJSON\",value:function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString(\"hex\")}}}],[{key:\"getInc\",value:function(){return e.index=(e.index+1)%16777215}},{key:\"generate\",value:function(t){\"number\"!=typeof t&&(t=~~(Date.now()/1e3));var n=e.getInc(),r=Buffer$1.alloc(12);return r[3]=255&t,r[2]=t>>8&255,r[1]=t>>16&255,r[0]=t>>24&255,r[4]=PROCESS_UNIQUE[0],r[5]=PROCESS_UNIQUE[1],r[6]=PROCESS_UNIQUE[2],r[7]=PROCESS_UNIQUE[3],r[8]=PROCESS_UNIQUE[4],r[11]=255&n,r[10]=n>>8&255,r[9]=n>>16&255,r}},{key:\"createPk\",value:function(){return new e}},{key:\"createFromTime\",value:function(t){var n=Buffer$1.from([0,0,0,0,0,0,0,0,0,0,0,0]);return n[3]=255&t,n[2]=t>>8&255,n[1]=t>>16&255,n[0]=t>>24&255,new e(n)}},{key:\"createFromHexString\",value:function(t){if(void 0===t||null!=t&&24!==t.length)throw new TypeError(\"Argument passed in must be a single String of 12 bytes or a string of 24 hex characters\");if(hasBufferType)return new e(Buffer$1.from(t,\"hex\"));for(var n=new _Buffer(12),r=0,i=0;i<24;)n[r++]=decodeLookup[t.charCodeAt(i++)]<<4|decodeLookup[t.charCodeAt(i++)];return new e(n)}},{key:\"isValid\",value:function(t){return null!=t&&(\"number\"==typeof t||(\"string\"==typeof t?12===t.length||24===t.length&&checkForHexRegExp.test(t):t instanceof e||(t instanceof _Buffer&&12===t.length||!!t.toHexString&&(12===t.id.length||24===t.id.length&&checkForHexRegExp.test(t.id)))))}},{key:\"fromExtendedJSON\",value:function(t){return new e(t.$oid)}}]),e}();ObjectId.get_inc=deprecate$1(function(){return ObjectId.getInc()},\"Please use the static `ObjectId.getInc()` instead\"),ObjectId.prototype.get_inc=deprecate$1(function(){return ObjectId.getInc()},\"Please use the static `ObjectId.getInc()` instead\"),ObjectId.prototype.getInc=deprecate$1(function(){return ObjectId.getInc()},\"Please use the static `ObjectId.getInc()` instead\"),ObjectId.prototype.generate=deprecate$1(function(e){return ObjectId.generate(e)},\"Please use the static `ObjectId.generate(time)` instead\"),Object.defineProperty(ObjectId.prototype,\"generationTime\",{enumerable:!0,get:function(){return this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24},set:function(e){this.id[3]=255&e,this.id[2]=e>>8&255,this.id[1]=e>>16&255,this.id[0]=e>>24&255}}),ObjectId.prototype[util.inspect.custom||\"inspect\"]=ObjectId.prototype.toString,ObjectId.index=~~(16777215*Math.random()),Object.defineProperty(ObjectId.prototype,\"_bsontype\",{value:\"ObjectID\"});var objectid=ObjectId;function _classCallCheck$3(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function _defineProperties$3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$3(e,t,n){return t&&_defineProperties$3(e.prototype,t),n&&_defineProperties$3(e,n),e}function alphabetize(e){return e.split(\"\").sort().join(\"\")}var BSONRegExp=function(){function e(t,n){_classCallCheck$3(this,e),this.pattern=t||\"\",this.options=n?alphabetize(n):\"\";for(var r=0;r<this.options.length;r++)if(\"i\"!==this.options[r]&&\"m\"!==this.options[r]&&\"x\"!==this.options[r]&&\"l\"!==this.options[r]&&\"s\"!==this.options[r]&&\"u\"!==this.options[r])throw new Error(\"The regular expression option [\".concat(this.options[r],\"] is not supported\"))}return _createClass$3(e,[{key:\"toExtendedJSON\",value:function(){return{$regularExpression:{pattern:this.pattern,options:this.options}}}}],[{key:\"fromExtendedJSON\",value:function(t){return new e(t.$regularExpression.pattern,t.$regularExpression.options.split(\"\").sort().join(\"\"))}}]),e}();Object.defineProperty(BSONRegExp.prototype,\"_bsontype\",{value:\"BSONRegExp\"});var regexp=BSONRegExp;function _classCallCheck$4(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function _defineProperties$4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$4(e,t,n){return t&&_defineProperties$4(e.prototype,t),n&&_defineProperties$4(e,n),e}var BSONSymbol=function(){function e(t){_classCallCheck$4(this,e),this.value=t}return _createClass$4(e,[{key:\"valueOf\",value:function(){return this.value}},{key:\"toString\",value:function(){return this.value}},{key:\"inspect\",value:function(){return this.value}},{key:\"toJSON\",value:function(){return this.value}},{key:\"toExtendedJSON\",value:function(){return{$symbol:this.value}}}],[{key:\"fromExtendedJSON\",value:function(t){return new e(t.$symbol)}}]),e}();Object.defineProperty(BSONSymbol.prototype,\"_bsontype\",{value:\"Symbol\"});var symbol=BSONSymbol;function _classCallCheck$5(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function _defineProperties$5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$5(e,t,n){return t&&_defineProperties$5(e.prototype,t),n&&_defineProperties$5(e,n),e}var Int32=function(){function e(t){_classCallCheck$5(this,e),this.value=t}return _createClass$5(e,[{key:\"valueOf\",value:function(){return this.value}},{key:\"toJSON\",value:function(){return this.value}},{key:\"toExtendedJSON\",value:function(e){return e&&e.relaxed?this.value:{$numberInt:this.value.toString()}}}],[{key:\"fromExtendedJSON\",value:function(t,n){return n&&n.relaxed?parseInt(t.$numberInt,10):new e(t.$numberInt)}}]),e}();Object.defineProperty(Int32.prototype,\"_bsontype\",{value:\"Int32\"});var int_32=Int32;function _classCallCheck$6(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function _defineProperties$6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$6(e,t,n){return t&&_defineProperties$6(e.prototype,t),n&&_defineProperties$6(e,n),e}var Code=function(){function e(t,n){_classCallCheck$6(this,e),this.code=t,this.scope=n}return _createClass$6(e,[{key:\"toJSON\",value:function(){return{scope:this.scope,code:this.code}}},{key:\"toExtendedJSON\",value:function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}}],[{key:\"fromExtendedJSON\",value:function(t){return new e(t.$code,t.$scope)}}]),e}();Object.defineProperty(Code.prototype,\"_bsontype\",{value:\"Code\"});var code=Code,Buffer$2=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,PARSE_STRING_REGEXP=/^(\\+|-)?(\\d+|(\\d*\\.\\d*))?(E|e)?([-+])?(\\d+)?$/,PARSE_INF_REGEXP=/^(\\+|-)?(Infinity|inf)$/i,PARSE_NAN_REGEXP=/^(\\+|-)?NaN$/i,EXPONENT_MAX=6111,EXPONENT_MIN=-6176,EXPONENT_BIAS=6176,MAX_DIGITS=34,NAN_BUFFER=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),INF_NEGATIVE_BUFFER=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),INF_POSITIVE_BUFFER=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),EXPONENT_REGEX=/^([-+])?(\\d+)?$/;function isDigit(e){return!isNaN(parseInt(e,10))}function divideu128(e){var t=long_1.fromNumber(1e9),n=long_1.fromNumber(0);if(!(e.parts[0]||e.parts[1]||e.parts[2]||e.parts[3]))return{quotient:e,rem:n};for(var r=0;r<=3;r++)n=(n=n.shiftLeft(32)).add(new long_1(e.parts[r],0)),e.parts[r]=n.div(t).low,n=n.modulo(t);return{quotient:e,rem:n}}function multiply64x2(e,t){if(!e&&!t)return{high:long_1.fromNumber(0),low:long_1.fromNumber(0)};var n=e.shiftRightUnsigned(32),r=new long_1(e.getLowBits(),0),i=t.shiftRightUnsigned(32),o=new long_1(t.getLowBits(),0),s=n.multiply(i),u=n.multiply(o),a=r.multiply(i),f=r.multiply(o);return s=s.add(u.shiftRightUnsigned(32)),u=new long_1(u.getLowBits(),0).add(a).add(f.shiftRightUnsigned(32)),{high:s=s.add(u.shiftRightUnsigned(32)),low:f=u.shiftLeft(32).add(new long_1(f.getLowBits(),0))}}function lessThan(e,t){var n=e.high>>>0,r=t.high>>>0;return n<r||n===r&&e.low>>>0<t.low>>>0}function invalidErr(e,t){throw new TypeError('\"'.concat(e,'\" is not a valid Decimal128 string - ').concat(t))}function Decimal128(e){this.bytes=e}Decimal128.fromString=function(e){var t,n=!1,r=!1,i=!1,o=0,s=0,u=0,a=0,f=0,l=[0],c=0,_=0,h=0,p=0,b=0,d=0,g=[0,0],y=[0,0],m=0;if(e.length>=7e3)throw new TypeError(e+\" not a valid Decimal128 string\");var w=e.match(PARSE_STRING_REGEXP),E=e.match(PARSE_INF_REGEXP),N=e.match(PARSE_NAN_REGEXP);if(!w&&!E&&!N||0===e.length)throw new TypeError(e+\" not a valid Decimal128 string\");if(w){var S=w[2],B=w[4],v=w[5],O=w[6];B&&void 0===O&&invalidErr(e,\"missing exponent power\"),B&&void 0===S&&invalidErr(e,\"missing exponent base\"),void 0===B&&(v||O)&&invalidErr(e,\"missing e before exponent\")}if(\"+\"!==e[m]&&\"-\"!==e[m]||(n=\"-\"===e[m++]),!isDigit(e[m])&&\".\"!==e[m]){if(\"i\"===e[m]||\"I\"===e[m])return new Decimal128(Buffer$2.from(n?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER));if(\"N\"===e[m])return new Decimal128(Buffer$2.from(NAN_BUFFER))}for(;isDigit(e[m])||\".\"===e[m];)\".\"!==e[m]?(c<34&&(\"0\"!==e[m]||i)&&(i||(f=s),i=!0,l[_++]=parseInt(e[m],10),c+=1),i&&(u+=1),r&&(a+=1),s+=1,m+=1):(r&&invalidErr(e,\"contains multiple periods\"),r=!0,m+=1);if(r&&!s)throw new TypeError(e+\" not a valid Decimal128 string\");if(\"e\"===e[m]||\"E\"===e[m]){var A=e.substr(++m).match(EXPONENT_REGEX);if(!A||!A[2])return new Decimal128(Buffer$2.from(NAN_BUFFER));b=parseInt(A[0],10),m+=A[0].length}if(e[m])return new Decimal128(Buffer$2.from(NAN_BUFFER));if(h=0,c){if(p=c-1,1!==(o=u))for(;\"0\"===e[f+o-1];)o-=1}else h=0,p=0,l[0]=0,u=1,c=1,o=0;for(b<=a&&a-b>16384?b=EXPONENT_MIN:b-=a;b>EXPONENT_MAX;){if((p+=1)-h>MAX_DIGITS){if(l.join(\"\").match(/^0+$/)){b=EXPONENT_MAX;break}invalidErr(e,\"overflow\")}b-=1}for(;b<EXPONENT_MIN||c<u;){if(0===p&&o<c){b=EXPONENT_MIN,o=0;break}if(c<u?u-=1:p-=1,b<EXPONENT_MAX)b+=1;else{if(l.join(\"\").match(/^0+$/)){b=EXPONENT_MAX;break}invalidErr(e,\"overflow\")}}if(p-h+1<o){var T=s;r&&(f+=1,T+=1),n&&(f+=1,T+=1);var I=parseInt(e[f+p+1],10),D=0;if(I>=5&&(D=1,5===I))for(D=l[p]%2==1,d=f+p+2;d<T;d++)if(parseInt(e[d],10)){D=1;break}if(D)for(var R=p;R>=0;R--)if(++l[R]>9&&(l[R]=0,0===R)){if(!(b<EXPONENT_MAX))return new Decimal128(Buffer$2.from(n?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER));b+=1,l[R]=1}}if(g=long_1.fromNumber(0),y=long_1.fromNumber(0),0===o)g=long_1.fromNumber(0),y=long_1.fromNumber(0);else if(p-h<17){var $=h;for(y=long_1.fromNumber(l[$++]),g=new long_1(0,0);$<=p;$++)y=(y=y.multiply(long_1.fromNumber(10))).add(long_1.fromNumber(l[$]))}else{var x=h;for(g=long_1.fromNumber(l[x++]);x<=p-17;x++)g=(g=g.multiply(long_1.fromNumber(10))).add(long_1.fromNumber(l[x]));for(y=long_1.fromNumber(l[x++]);x<=p;x++)y=(y=y.multiply(long_1.fromNumber(10))).add(long_1.fromNumber(l[x]))}var P=multiply64x2(g,long_1.fromString(\"100000000000000000\"));P.low=P.low.add(y),lessThan(P.low,y)&&(P.high=P.high.add(long_1.fromNumber(1))),t=b+EXPONENT_BIAS;var C={low:long_1.fromNumber(0),high:long_1.fromNumber(0)};P.high.shiftRightUnsigned(49).and(long_1.fromNumber(1)).equals(long_1.fromNumber(1))?(C.high=C.high.or(long_1.fromNumber(3).shiftLeft(61)),C.high=C.high.or(long_1.fromNumber(t).and(long_1.fromNumber(16383).shiftLeft(47))),C.high=C.high.or(P.high.and(long_1.fromNumber(0x7fffffffffff)))):(C.high=C.high.or(long_1.fromNumber(16383&t).shiftLeft(49)),C.high=C.high.or(P.high.and(long_1.fromNumber(562949953421311)))),C.low=P.low,n&&(C.high=C.high.or(long_1.fromString(\"9223372036854775808\")));var U=Buffer$2.alloc(16);return m=0,U[m++]=255&C.low.low,U[m++]=C.low.low>>8&255,U[m++]=C.low.low>>16&255,U[m++]=C.low.low>>24&255,U[m++]=255&C.low.high,U[m++]=C.low.high>>8&255,U[m++]=C.low.high>>16&255,U[m++]=C.low.high>>24&255,U[m++]=255&C.high.low,U[m++]=C.high.low>>8&255,U[m++]=C.high.low>>16&255,U[m++]=C.high.low>>24&255,U[m++]=255&C.high.high,U[m++]=C.high.high>>8&255,U[m++]=C.high.high>>16&255,U[m++]=C.high.high>>24&255,new Decimal128(U)};var COMBINATION_MASK=31,EXPONENT_MASK=16383,COMBINATION_INFINITY=30,COMBINATION_NAN=31;Decimal128.prototype.toString=function(){for(var e,t,n,r,i,o,s=0,u=new Array(36),a=0;a<u.length;a++)u[a]=0;var f,l,c,_,h,p=0,b=!1,d={parts:new Array(4)},g=[];p=0;var y=this.bytes;if(r=y[p++]|y[p++]<<8|y[p++]<<16|y[p++]<<24,n=y[p++]|y[p++]<<8|y[p++]<<16|y[p++]<<24,t=y[p++]|y[p++]<<8|y[p++]<<16|y[p++]<<24,e=y[p++]|y[p++]<<8|y[p++]<<16|y[p++]<<24,p=0,{low:new long_1(r,n),high:new long_1(t,e)}.high.lessThan(long_1.ZERO)&&g.push(\"-\"),(i=e>>26&COMBINATION_MASK)>>3==3){if(i===COMBINATION_INFINITY)return g.join(\"\")+\"Infinity\";if(i===COMBINATION_NAN)return\"NaN\";o=e>>15&EXPONENT_MASK,c=8+(e>>14&1)}else c=e>>14&7,o=e>>17&EXPONENT_MASK;if(f=o-EXPONENT_BIAS,d.parts[0]=(16383&e)+((15&c)<<14),d.parts[1]=t,d.parts[2]=n,d.parts[3]=r,0===d.parts[0]&&0===d.parts[1]&&0===d.parts[2]&&0===d.parts[3])b=!0;else for(h=3;h>=0;h--){var m=0,w=divideu128(d);if(d=w.quotient,m=w.rem.low)for(_=8;_>=0;_--)u[9*h+_]=m%10,m=Math.floor(m/10)}if(b)s=1,u[p]=0;else for(s=36;!u[p];)s-=1,p+=1;if((l=s-1+f)>=34||l<=-7||f>0){if(s>34)return g.push(0),f>0?g.push(\"E+\"+f):f<0&&g.push(\"E\"+f),g.join(\"\");g.push(u[p++]),(s-=1)&&g.push(\".\");for(var E=0;E<s;E++)g.push(u[p++]);g.push(\"E\"),l>0?g.push(\"+\"+l):g.push(l)}else if(f>=0)for(var N=0;N<s;N++)g.push(u[p++]);else{var S=s+f;if(S>0)for(var B=0;B<S;B++)g.push(u[p++]);else g.push(\"0\");for(g.push(\".\");S++<0;)g.push(\"0\");for(var v=0;v<s-Math.max(S-1,0);v++)g.push(u[p++])}return g.join(\"\")},Decimal128.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},Decimal128.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},Decimal128.fromExtendedJSON=function(e){return Decimal128.fromString(e.$numberDecimal)},Object.defineProperty(Decimal128.prototype,\"_bsontype\",{value:\"Decimal128\"});var decimal128=Decimal128;function _classCallCheck$7(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function _defineProperties$7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$7(e,t,n){return t&&_defineProperties$7(e.prototype,t),n&&_defineProperties$7(e,n),e}var MinKey=function(){function e(){_classCallCheck$7(this,e)}return _createClass$7(e,[{key:\"toExtendedJSON\",value:function(){return{$minKey:1}}}],[{key:\"fromExtendedJSON\",value:function(){return new e}}]),e}();Object.defineProperty(MinKey.prototype,\"_bsontype\",{value:\"MinKey\"});var min_key=MinKey;function _classCallCheck$8(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function _defineProperties$8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$8(e,t,n){return t&&_defineProperties$8(e.prototype,t),n&&_defineProperties$8(e,n),e}var MaxKey=function(){function e(){_classCallCheck$8(this,e)}return _createClass$8(e,[{key:\"toExtendedJSON\",value:function(){return{$maxKey:1}}}],[{key:\"fromExtendedJSON\",value:function(){return new e}}]),e}();Object.defineProperty(MaxKey.prototype,\"_bsontype\",{value:\"MaxKey\"});var max_key=MaxKey;function _classCallCheck$9(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function _defineProperties$9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$9(e,t,n){return t&&_defineProperties$9(e.prototype,t),n&&_defineProperties$9(e,n),e}var DBRef=function(){function e(t,n,r,i){_classCallCheck$9(this,e);var o=t.split(\".\");2===o.length&&(r=o.shift(),t=o.shift()),this.collection=t,this.oid=n,this.db=r,this.fields=i||{}}return _createClass$9(e,[{key:\"toJSON\",value:function(){var e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return null!=this.db&&(e.$db=this.db),e}},{key:\"toExtendedJSON\",value:function(){var e={$ref:this.collection,$id:this.oid};return this.db&&(e.$db=this.db),e=Object.assign(e,this.fields)}}],[{key:\"fromExtendedJSON\",value:function(t){var n=Object.assign({},t);return[\"$ref\",\"$id\",\"$db\"].forEach(function(e){return delete n[e]}),new e(t.$ref,t.$id,t.$db,n)}}]),e}();Object.defineProperty(DBRef.prototype,\"_bsontype\",{value:\"DBRef\"}),Object.defineProperty(DBRef.prototype,\"namespace\",{get:function(){return this.collection},set:function(e){this.collection=e},configurable:!1});var db_ref=DBRef;function _classCallCheck$a(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function _defineProperties$a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$a(e,t,n){return t&&_defineProperties$a(e.prototype,t),n&&_defineProperties$a(e,n),e}var Buffer$3=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,Binary=function(){function e(t,n){if(_classCallCheck$a(this,e),!(null==t||\"string\"==typeof t||Buffer$3.isBuffer(t)||t instanceof Uint8Array||Array.isArray(t)))throw new TypeError(\"only String, Buffer, Uint8Array or Array accepted\");if(this.sub_type=null==n?BSON_BINARY_SUBTYPE_DEFAULT:n,this.position=0,null==t||t instanceof Number)void 0!==Buffer$3?this.buffer=Buffer$3.alloc(e.BUFFER_SIZE):\"undefined\"!=typeof Uint8Array?this.buffer=new Uint8Array(new ArrayBuffer(e.BUFFER_SIZE)):this.buffer=new Array(e.BUFFER_SIZE);else{if(\"string\"==typeof t)if(void 0!==Buffer$3)this.buffer=Buffer$3.from(t);else{if(\"undefined\"==typeof Uint8Array&&!Array.isArray(t))throw new TypeError(\"only String, Buffer, Uint8Array or Array accepted\");this.buffer=writeStringToArray(t)}else this.buffer=t;this.position=t.length}}return _createClass$a(e,[{key:\"put\",value:function(t){if(null!=t.length&&\"number\"!=typeof t&&1!==t.length)throw new TypeError(\"only accepts single character String, Uint8Array or Array\");if(\"number\"!=typeof t&&t<0||t>255)throw new TypeError(\"only accepts number in a valid unsigned byte range 0-255\");var n=null;if(n=\"string\"==typeof t?t.charCodeAt(0):null!=t.length?t[0]:t,this.buffer.length>this.position)this.buffer[this.position++]=n;else if(void 0!==Buffer$3&&Buffer$3.isBuffer(this.buffer)){var r=Buffer$3.alloc(e.BUFFER_SIZE+this.buffer.length);this.buffer.copy(r,0,0,this.buffer.length),this.buffer=r,this.buffer[this.position++]=n}else{var i=null;i=isUint8Array(this.buffer)?new Uint8Array(new ArrayBuffer(e.BUFFER_SIZE+this.buffer.length)):new Array(e.BUFFER_SIZE+this.buffer.length);for(var o=0;o<this.buffer.length;o++)i[o]=this.buffer[o];this.buffer=i,this.buffer[this.position++]=n}}},{key:\"write\",value:function(e,t){if(t=\"number\"==typeof t?t:this.position,this.buffer.length<t+e.length){var n=null;if(void 0!==Buffer$3&&Buffer$3.isBuffer(this.buffer))n=Buffer$3.alloc(this.buffer.length+e.length),this.buffer.copy(n,0,0,this.buffer.length);else if(isUint8Array(this.buffer)){n=new Uint8Array(new ArrayBuffer(this.buffer.length+e.length));for(var r=0;r<this.position;r++)n[r]=this.buffer[r]}this.buffer=n}if(void 0!==Buffer$3&&Buffer$3.isBuffer(e)&&Buffer$3.isBuffer(this.buffer))e.copy(this.buffer,t,0,e.length),this.position=t+e.length>this.position?t+e.length:this.position;else if(void 0!==Buffer$3&&\"string\"==typeof e&&Buffer$3.isBuffer(this.buffer))this.buffer.write(e,t,\"binary\"),this.position=t+e.length>this.position?t+e.length:this.position;else if(isUint8Array(e)||Array.isArray(e)&&\"string\"!=typeof e){for(var i=0;i<e.length;i++)this.buffer[t++]=e[i];this.position=t>this.position?t:this.position}else if(\"string\"==typeof e){for(var o=0;o<e.length;o++)this.buffer[t++]=e.charCodeAt(o);this.position=t>this.position?t:this.position}}},{key:\"read\",value:function(e,t){if(t=t&&t>0?t:this.position,this.buffer.slice)return this.buffer.slice(e,e+t);for(var n=\"undefined\"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(t)):new Array(t),r=0;r<t;r++)n[r]=this.buffer[e++];return n}},{key:\"value\",value:function(e){if((e=null!=e&&e)&&void 0!==Buffer$3&&Buffer$3.isBuffer(this.buffer)&&this.buffer.length===this.position)return this.buffer;if(void 0!==Buffer$3&&Buffer$3.isBuffer(this.buffer))return e?this.buffer.slice(0,this.position):this.buffer.toString(\"binary\",0,this.position);if(e){if(null!=this.buffer.slice)return this.buffer.slice(0,this.position);for(var t=isUint8Array(this.buffer)?new Uint8Array(new ArrayBuffer(this.position)):new Array(this.position),n=0;n<this.position;n++)t[n]=this.buffer[n];return t}return convertArraytoUtf8BinaryString(this.buffer,0,this.position)}},{key:\"length\",value:function(){return this.position}},{key:\"toJSON\",value:function(){return null!=this.buffer?this.buffer.toString(\"base64\"):\"\"}},{key:\"toString\",value:function(e){return null!=this.buffer?this.buffer.slice(0,this.position).toString(e):\"\"}},{key:\"toExtendedJSON\",value:function(){var e=Buffer$3.isBuffer(this.buffer)?this.buffer.toString(\"base64\"):Buffer$3.from(this.buffer).toString(\"base64\"),t=Number(this.sub_type).toString(16);return{$binary:{base64:e,subType:1===t.length?\"0\"+t:t}}}}],[{key:\"fromExtendedJSON\",value:function(t){var n=t.$binary.subType?parseInt(t.$binary.subType,16):0;return new e(Buffer$3.from(t.$binary.base64,\"base64\"),n)}}]),e}(),BSON_BINARY_SUBTYPE_DEFAULT=0;function isUint8Array(e){return\"[object Uint8Array]\"===Object.prototype.toString.call(e)}function writeStringToArray(e){for(var t=\"undefined\"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(e.length)):new Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function convertArraytoUtf8BinaryString(e,t,n){for(var r=\"\",i=t;i<n;i++)r+=String.fromCharCode(e[i]);return r}Binary.BUFFER_SIZE=256,Binary.SUBTYPE_DEFAULT=0,Binary.SUBTYPE_FUNCTION=1,Binary.SUBTYPE_BYTE_ARRAY=2,Binary.SUBTYPE_UUID_OLD=3,Binary.SUBTYPE_UUID=4,Binary.SUBTYPE_MD5=5,Binary.SUBTYPE_USER_DEFINED=128,Object.defineProperty(Binary.prototype,\"_bsontype\",{value:\"Binary\"});var binary=Binary,constants={BSON_INT32_MAX:2147483647,BSON_INT32_MIN:-2147483648,BSON_INT64_MAX:Math.pow(2,63)-1,BSON_INT64_MIN:-Math.pow(2,63),JS_INT_MAX:9007199254740992,JS_INT_MIN:-9007199254740992,BSON_DATA_NUMBER:1,BSON_DATA_STRING:2,BSON_DATA_OBJECT:3,BSON_DATA_ARRAY:4,BSON_DATA_BINARY:5,BSON_DATA_UNDEFINED:6,BSON_DATA_OID:7,BSON_DATA_BOOLEAN:8,BSON_DATA_DATE:9,BSON_DATA_NULL:10,BSON_DATA_REGEXP:11,BSON_DATA_DBPOINTER:12,BSON_DATA_CODE:13,BSON_DATA_SYMBOL:14,BSON_DATA_CODE_W_SCOPE:15,BSON_DATA_INT:16,BSON_DATA_TIMESTAMP:17,BSON_DATA_LONG:18,BSON_DATA_DECIMAL128:19,BSON_DATA_MIN_KEY:255,BSON_DATA_MAX_KEY:127,BSON_BINARY_SUBTYPE_DEFAULT:0,BSON_BINARY_SUBTYPE_FUNCTION:1,BSON_BINARY_SUBTYPE_BYTE_ARRAY:2,BSON_BINARY_SUBTYPE_UUID:3,BSON_BINARY_SUBTYPE_MD5:4,BSON_BINARY_SUBTYPE_USER_DEFINED:128};function _typeof$2(e){return(_typeof$2=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}var keysToCodecs={$oid:objectid,$binary:binary,$symbol:symbol,$numberInt:int_32,$numberDecimal:decimal128,$numberDouble:double_1,$numberLong:long_1,$minKey:min_key,$maxKey:max_key,$regularExpression:regexp,$timestamp:timestamp};function deserializeValue(e,t,n,r){if(\"number\"==typeof n){if(r.relaxed)return n;if(Math.floor(n)===n){if(n>=BSON_INT32_MIN&&n<=BSON_INT32_MAX)return new int_32(n);if(n>=BSON_INT64_MIN&&n<=BSON_INT64_MAX)return new long_1.fromNumber(n)}return new double_1(n)}if(null==n||\"object\"!==_typeof$2(n))return n;if(n.$undefined)return null;for(var i=Object.keys(n).filter(function(e){return e.startsWith(\"$\")&&null!=n[e]}),o=0;o<i.length;o++){var s=keysToCodecs[i[o]];if(s)return s.fromExtendedJSON(n,r)}if(null!=n.$date){var u=n.$date,a=new Date;return\"string\"==typeof u?a.setTime(Date.parse(u)):long_1.isLong(u)?a.setTime(u.toNumber()):\"number\"==typeof u&&r.relaxed&&a.setTime(u),a}if(null!=n.$code){var f=Object.assign({},n);return n.$scope&&(f.$scope=deserializeValue(e,null,n.$scope)),code.fromExtendedJSON(n)}if(null!=n.$ref||null!=n.$dbPointer){var l=n.$ref?n:n.$dbPointer;if(l instanceof db_ref)return l;var c=Object.keys(l).filter(function(e){return e.startsWith(\"$\")}),_=!0;if(c.forEach(function(e){-1===[\"$ref\",\"$id\",\"$db\"].indexOf(e)&&(_=!1)}),_)return db_ref.fromExtendedJSON(l)}return n}function parse(e,t){var n=this;return\"boolean\"==typeof(t=Object.assign({},{relaxed:!0},t)).relaxed&&(t.strict=!t.relaxed),\"boolean\"==typeof t.strict&&(t.relaxed=!t.strict),JSON.parse(e,function(e,r){return deserializeValue(n,e,r,t)})}var BSON_INT32_MAX=2147483647,BSON_INT32_MIN=-2147483648,BSON_INT64_MAX=0x8000000000000000,BSON_INT64_MIN=-0x8000000000000000;function stringify(e,t,n,r){null!=n&&\"object\"===_typeof$2(n)&&(r=n,n=0),null==t||\"object\"!==_typeof$2(t)||Array.isArray(t)||(r=t,t=null,n=0),r=Object.assign({},{relaxed:!0},r);var i=Array.isArray(e)?serializeArray(e,r):serializeDocument(e,r);return JSON.stringify(i,t,n)}function serialize(e,t){return t=t||{},JSON.parse(stringify(e,t))}function deserialize(e,t){return t=t||{},parse(JSON.stringify(e),t)}function serializeArray(e,t){return e.map(function(e){return serializeValue(e,t)})}function getISOString(e){var t=e.toISOString();return 0!==e.getUTCMilliseconds()?t:t.slice(0,-5)+\"Z\"}function serializeValue(e,t){if(Array.isArray(e))return serializeArray(e,t);if(void 0===e)return null;if(e instanceof Date){var n=e.getTime(),r=n>-1&&n<2534023188e5;return t.relaxed&&r?{$date:getISOString(e)}:{$date:{$numberLong:e.getTime().toString()}}}if(\"number\"==typeof e&&!t.relaxed){if(Math.floor(e)===e){var i=e>=BSON_INT64_MIN&&e<=BSON_INT64_MAX;if(e>=BSON_INT32_MIN&&e<=BSON_INT32_MAX)return{$numberInt:e.toString()};if(i)return{$numberLong:e.toString()}}return{$numberDouble:e.toString()}}if(e instanceof RegExp){var o=e.flags;return void 0===o&&(o=e.toString().match(/[gimuy]*$/)[0]),new regexp(e.source,o).toExtendedJSON()}return null!=e&&\"object\"===_typeof$2(e)?serializeDocument(e,t):e}var BSON_TYPE_MAPPINGS={Binary:function(e){return new binary(e.value(),e.subtype)},Code:function(e){return new code(e.code,e.scope)},DBRef:function(e){return new db_ref(e.collection||e.namespace,e.oid,e.db,e.fields)},Decimal128:function(e){return new decimal128(e.bytes)},Double:function(e){return new double_1(e.value)},Int32:function(e){return new int_32(e.value)},Long:function(e){return long_1.fromBits(null!=e.low?e.low:e.low_,null!=e.low?e.high:e.high_,null!=e.low?e.unsigned:e.unsigned_)},MaxKey:function(){return new max_key},MinKey:function(){return new min_key},ObjectID:function(e){return new objectid(e)},ObjectId:function(e){return new objectid(e)},BSONRegExp:function(e){return new regexp(e.pattern,e.options)},Symbol:function(e){return new symbol(e.value)},Timestamp:function(e){return timestamp.fromBits(e.low,e.high)}};function serializeDocument(e,t){if(null==e||\"object\"!==_typeof$2(e))throw new Error(\"not an object instance\");var n=e._bsontype;if(void 0===n){var r={};for(var i in e)r[i]=serializeValue(e[i],t);return r}if(\"string\"==typeof n){var o=e;if(\"function\"!=typeof o.toExtendedJSON){var s=BSON_TYPE_MAPPINGS[n];if(!s)throw new TypeError(\"Unrecognized or invalid _bsontype: \"+n);o=s(o)}return\"Code\"===n&&o.scope?o=new code(o.code,serializeValue(o.scope,t)):\"DBRef\"===n&&o.oid&&(o=new db_ref(o.collection,serializeValue(o.oid,t),o.db,o.fields)),o.toExtendedJSON(t)}throw new Error(\"_bsontype must be a string, but was: \"+_typeof$2(n))}var extended_json={parse:parse,deserialize:deserialize,serialize:serialize,stringify:stringify},FIRST_BIT=128,FIRST_TWO_BITS=192,FIRST_THREE_BITS=224,FIRST_FOUR_BITS=240,FIRST_FIVE_BITS=248,TWO_BIT_CHAR=192,THREE_BIT_CHAR=224,FOUR_BIT_CHAR=240,CONTINUING_CHAR=128;function validateUtf8(e,t,n){for(var r=0,i=t;i<n;i+=1){var o=e[i];if(r){if((o&FIRST_TWO_BITS)!==CONTINUING_CHAR)return!1;r-=1}else if(o&FIRST_BIT)if((o&FIRST_THREE_BITS)===TWO_BIT_CHAR)r=1;else if((o&FIRST_FOUR_BITS)===THREE_BIT_CHAR)r=2;else{if((o&FIRST_FIVE_BITS)!==FOUR_BIT_CHAR)return!1;r=3}}return!r}var validateUtf8_1=validateUtf8,validate_utf8={validateUtf8:validateUtf8_1},Buffer$4=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,validateUtf8$1=validate_utf8.validateUtf8,JS_INT_MAX_LONG=long_1.fromNumber(constants.JS_INT_MAX),JS_INT_MIN_LONG=long_1.fromNumber(constants.JS_INT_MIN),functionCache={};function deserialize$1(e,t,n){var r=(t=null==t?{}:t)&&t.index?t.index:0,i=e[r]|e[r+1]<<8|e[r+2]<<16|e[r+3]<<24;if(i<5)throw new Error(\"bson size must be >= 5, is \".concat(i));if(t.allowObjectSmallerThanBufferSize&&e.length<i)throw new Error(\"buffer length \".concat(e.length,\" must be >= bson size \").concat(i));if(!t.allowObjectSmallerThanBufferSize&&e.length!==i)throw new Error(\"buffer length \".concat(e.length,\" must === bson size \").concat(i));if(i+r>e.length)throw new Error(\"(bson size \".concat(i,\" + options.index \").concat(r,\" must be <= buffer length \").concat(Buffer$4.byteLength(e),\")\"));if(0!==e[r+i-1])throw new Error(\"One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00\");return deserializeObject(e,r,t,n)}function deserializeObject(e,t,n,r){var i=null!=n.evalFunctions&&n.evalFunctions,o=null!=n.cacheFunctions&&n.cacheFunctions,s=null!=n.cacheFunctionsCrc32&&n.cacheFunctionsCrc32;if(!s)var u=null;var a=null==n.fieldsAsRaw?null:n.fieldsAsRaw,f=null!=n.raw&&n.raw,l=\"boolean\"==typeof n.bsonRegExp&&n.bsonRegExp,c=null!=n.promoteBuffers&&n.promoteBuffers,_=null==n.promoteLongs||n.promoteLongs,h=null==n.promoteValues||n.promoteValues,p=t;if(e.length<5)throw new Error(\"corrupt bson message < 5 bytes long\");var b=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(b<5||b>e.length)throw new Error(\"corrupt bson message\");for(var d=r?[]:{},g=0;;){var y=e[t++];if(0===y)break;for(var m=t;0!==e[m]&&m<e.length;)m++;if(m>=Buffer$4.byteLength(e))throw new Error(\"Bad BSON Document: illegal CString\");var w=r?g++:e.toString(\"utf8\",t,m);if(t=m+1,y===constants.BSON_DATA_STRING){var E=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(E<=0||E>e.length-t||0!==e[t+E-1])throw new Error(\"bad string length in bson\");if(!validateUtf8$1(e,t,t+E-1))throw new Error(\"Invalid UTF-8 string in BSON document\");var N=e.toString(\"utf8\",t,t+E-1);d[w]=N,t+=E}else if(y===constants.BSON_DATA_OID){var S=Buffer$4.alloc(12);e.copy(S,0,t,t+12),d[w]=new objectid(S),t+=12}else if(y===constants.BSON_DATA_INT&&!1===h)d[w]=new int_32(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24);else if(y===constants.BSON_DATA_INT)d[w]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;else if(y===constants.BSON_DATA_NUMBER&&!1===h)d[w]=new double_1(e.readDoubleLE(t)),t+=8;else if(y===constants.BSON_DATA_NUMBER)d[w]=e.readDoubleLE(t),t+=8;else if(y===constants.BSON_DATA_DATE){var B=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,v=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;d[w]=new Date(new long_1(B,v).toNumber())}else if(y===constants.BSON_DATA_BOOLEAN){if(0!==e[t]&&1!==e[t])throw new Error(\"illegal boolean type value\");d[w]=1===e[t++]}else if(y===constants.BSON_DATA_OBJECT){var O=t,A=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24;if(A<=0||A>e.length-t)throw new Error(\"bad embedded document length in bson\");d[w]=f?e.slice(t,t+A):deserializeObject(e,O,n,!1),t+=A}else if(y===constants.BSON_DATA_ARRAY){var T=t,I=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24,D=n,R=t+I;if(a&&a[w]){for(var $ in D={},n)D[$]=n[$];D.raw=!0}if(d[w]=deserializeObject(e,T,D,!0),0!==e[(t+=I)-1])throw new Error(\"invalid array terminator byte\");if(t!==R)throw new Error(\"corrupted array bson\")}else if(y===constants.BSON_DATA_UNDEFINED)d[w]=void 0;else if(y===constants.BSON_DATA_NULL)d[w]=null;else if(y===constants.BSON_DATA_LONG){var x=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,P=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,C=new long_1(x,P);d[w]=_&&!0===h&&C.lessThanOrEqual(JS_INT_MAX_LONG)&&C.greaterThanOrEqual(JS_INT_MIN_LONG)?C.toNumber():C}else if(y===constants.BSON_DATA_DECIMAL128){var U=Buffer$4.alloc(16);e.copy(U,0,t,t+16),t+=16;var M=new decimal128(U);d[w]=M.toObject?M.toObject():M}else if(y===constants.BSON_DATA_BINARY){var k=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,L=k,j=e[t++];if(k<0)throw new Error(\"Negative binary type element size found\");if(k>Buffer$4.byteLength(e))throw new Error(\"Binary type size larger than document size\");if(null!=e.slice){if(j===binary.SUBTYPE_BYTE_ARRAY){if((k=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<0)throw new Error(\"Negative binary type element size found for subtype 0x02\");if(k>L-4)throw new Error(\"Binary type with subtype 0x02 contains to long binary size\");if(k<L-4)throw new Error(\"Binary type with subtype 0x02 contains to short binary size\")}d[w]=c&&h?e.slice(t,t+k):new binary(e.slice(t,t+k),j)}else{var z=\"undefined\"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(k)):new Array(k);if(j===binary.SUBTYPE_BYTE_ARRAY){if((k=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<0)throw new Error(\"Negative binary type element size found for subtype 0x02\");if(k>L-4)throw new Error(\"Binary type with subtype 0x02 contains to long binary size\");if(k<L-4)throw new Error(\"Binary type with subtype 0x02 contains to short binary size\")}for(m=0;m<k;m++)z[m]=e[t+m];d[w]=c&&h?z:new binary(z,j)}t+=k}else if(y===constants.BSON_DATA_REGEXP&&!1===l){for(m=t;0!==e[m]&&m<e.length;)m++;if(m>=e.length)throw new Error(\"Bad BSON Document: illegal CString\");var Y=e.toString(\"utf8\",t,m);for(m=t=m+1;0!==e[m]&&m<e.length;)m++;if(m>=e.length)throw new Error(\"Bad BSON Document: illegal CString\");var F=e.toString(\"utf8\",t,m);t=m+1;var q=new Array(F.length);for(m=0;m<F.length;m++)switch(F[m]){case\"m\":q[m]=\"m\";break;case\"s\":q[m]=\"g\";break;case\"i\":q[m]=\"i\"}d[w]=new RegExp(Y,q.join(\"\"))}else if(y===constants.BSON_DATA_REGEXP&&!0===l){for(m=t;0!==e[m]&&m<e.length;)m++;if(m>=e.length)throw new Error(\"Bad BSON Document: illegal CString\");var J=e.toString(\"utf8\",t,m);for(m=t=m+1;0!==e[m]&&m<e.length;)m++;if(m>=e.length)throw new Error(\"Bad BSON Document: illegal CString\");var X=e.toString(\"utf8\",t,m);t=m+1,d[w]=new regexp(J,X)}else if(y===constants.BSON_DATA_SYMBOL){var K=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(K<=0||K>e.length-t||0!==e[t+K-1])throw new Error(\"bad string length in bson\");d[w]=e.toString(\"utf8\",t,t+K-1),t+=K}else if(y===constants.BSON_DATA_TIMESTAMP){var G=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,H=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;d[w]=new timestamp(G,H)}else if(y===constants.BSON_DATA_MIN_KEY)d[w]=new min_key;else if(y===constants.BSON_DATA_MAX_KEY)d[w]=new max_key;else if(y===constants.BSON_DATA_CODE){var W=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(W<=0||W>e.length-t||0!==e[t+W-1])throw new Error(\"bad string length in bson\");var V=e.toString(\"utf8\",t,t+W-1);if(i)if(o){var Z=s?u(V):V;d[w]=isolateEvalWithHash(functionCache,Z,V,d)}else d[w]=isolateEval(V);else d[w]=new code(V);t+=W}else if(y===constants.BSON_DATA_CODE_W_SCOPE){var Q=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(Q<13)throw new Error(\"code_w_scope total size shorter minimum expected length\");var ee=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(ee<=0||ee>e.length-t||0!==e[t+ee-1])throw new Error(\"bad string length in bson\");var te=e.toString(\"utf8\",t,t+ee-1),ne=t+=ee,re=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24,ie=deserializeObject(e,ne,n,!1);if(t+=re,Q<8+re+ee)throw new Error(\"code_w_scope total size is to short, truncating scope\");if(Q>8+re+ee)throw new Error(\"code_w_scope total size is to long, clips outer document\");if(i){if(o){var oe=s?u(te):te;d[w]=isolateEvalWithHash(functionCache,oe,te,d)}else d[w]=isolateEval(te);d[w].scope=ie}else d[w]=new code(te,ie)}else{if(y!==constants.BSON_DATA_DBPOINTER)throw new Error(\"Detected unknown BSON type \"+y.toString(16)+' for fieldname \"'+w+'\", are you using the latest BSON parser?');var se=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(se<=0||se>e.length-t||0!==e[t+se-1])throw new Error(\"bad string length in bson\");if(!validateUtf8$1(e,t,t+se-1))throw new Error(\"Invalid UTF-8 string in BSON document\");var ue=e.toString(\"utf8\",t,t+se-1);t+=se;var ae=Buffer$4.alloc(12);e.copy(ae,0,t,t+12);var fe=new objectid(ae);t+=12,d[w]=new db_ref(ue,fe)}}if(b!==t-p){if(r)throw new Error(\"corrupt array bson\");throw new Error(\"corrupt object bson\")}var le=Object.keys(d).filter(function(e){return e.startsWith(\"$\")}),ce=!0;if(le.forEach(function(e){-1===[\"$ref\",\"$id\",\"$db\"].indexOf(e)&&(ce=!1)}),!ce)return d;if(null!=d.$id&&null!=d.$ref){var _e=Object.assign({},d);return delete _e.$ref,delete _e.$id,delete _e.$db,new db_ref(d.$ref,d.$id,d.$db||null,_e)}return d}function isolateEvalWithHash(functionCache,hash,functionString,object){var value=null;return null==functionCache[hash]&&(eval(\"value = \"+functionString),functionCache[hash]=value),functionCache[hash].bind(object)}function isolateEval(functionString){var value=null;return eval(\"value = \"+functionString),value}var deserializer=deserialize$1;function readIEEE754(e,t,n,r,i){var o,s,u=\"big\"===n,a=8*i-r-1,f=(1<<a)-1,l=f>>1,c=-7,_=u?0:i-1,h=u?1:-1,p=e[t+_];for(_+=h,o=p&(1<<-c)-1,p>>=-c,c+=a;c>0;o=256*o+e[t+_],_+=h,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;c>0;s=256*s+e[t+_],_+=h,c-=8);if(0===o)o=1-l;else{if(o===f)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=l}return(p?-1:1)*s*Math.pow(2,o-r)}function writeIEEE754(e,t,n,r,i,o){var s,u,a,f=\"big\"===r,l=8*o-i-1,c=(1<<l)-1,_=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=f?o-1:0,b=f?-1:1,d=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(a=Math.pow(2,-s))<1&&(s--,a*=2),(t+=s+_>=1?h/a:h*Math.pow(2,1-_))*a>=2&&(s++,a/=2),s+_>=c?(u=0,s=c):s+_>=1?(u=(t*a-1)*Math.pow(2,i),s+=_):(u=t*Math.pow(2,_-1)*Math.pow(2,i),s=0)),isNaN(t)&&(u=0);i>=8;)e[n+p]=255&u,p+=b,u/=256,i-=8;for(s=s<<i|u,isNaN(t)&&(s+=8),l+=i;l>0;)e[n+p]=255&s,p+=b,s/=256,l-=8;e[n+p-b]|=128*d}var float_parser={readIEEE754:readIEEE754,writeIEEE754:writeIEEE754};function _typeof$3(e){return(_typeof$3=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}var Buffer$5=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,writeIEEE754$1=float_parser.writeIEEE754,normalizedFunctionString$1=utils.normalizedFunctionString,regexp$1=/\\x00/,ignoreKeys=new Set([\"$db\",\"$ref\",\"$id\",\"$clusterTime\"]),isDate$1=function(e){return\"object\"===_typeof$3(e)&&\"[object Date]\"===Object.prototype.toString.call(e)},isRegExp$1=function(e){return\"[object RegExp]\"===Object.prototype.toString.call(e)};function serializeString(e,t,n,r,i){e[r++]=constants.BSON_DATA_STRING;var o=i?e.write(t,r,\"ascii\"):e.write(t,r,\"utf8\");e[(r=r+o+1)-1]=0;var s=e.write(n,r+4,\"utf8\");return e[r+3]=s+1>>24&255,e[r+2]=s+1>>16&255,e[r+1]=s+1>>8&255,e[r]=s+1&255,r=r+4+s,e[r++]=0,r}function serializeNumber(e,t,n,r,i){if(Math.floor(n)===n&&n>=constants.JS_INT_MIN&&n<=constants.JS_INT_MAX)if(n>=constants.BSON_INT32_MIN&&n<=constants.BSON_INT32_MAX)e[r++]=constants.BSON_DATA_INT,r+=i?e.write(t,r,\"ascii\"):e.write(t,r,\"utf8\"),e[r++]=0,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255;else if(n>=constants.JS_INT_MIN&&n<=constants.JS_INT_MAX){e[r++]=constants.BSON_DATA_NUMBER,r+=i?e.write(t,r,\"ascii\"):e.write(t,r,\"utf8\"),e[r++]=0,writeIEEE754$1(e,n,r,\"little\",52,8),r+=8}else{e[r++]=constants.BSON_DATA_LONG,r+=i?e.write(t,r,\"ascii\"):e.write(t,r,\"utf8\"),e[r++]=0;var o=long_1.fromNumber(n),s=o.getLowBits(),u=o.getHighBits();e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,e[r++]=255&u,e[r++]=u>>8&255,e[r++]=u>>16&255,e[r++]=u>>24&255}else e[r++]=constants.BSON_DATA_NUMBER,r+=i?e.write(t,r,\"ascii\"):e.write(t,r,\"utf8\"),e[r++]=0,writeIEEE754$1(e,n,r,\"little\",52,8),r+=8;return r}function serializeNull(e,t,n,r,i){return e[r++]=constants.BSON_DATA_NULL,r+=i?e.write(t,r,\"ascii\"):e.write(t,r,\"utf8\"),e[r++]=0,r}function serializeBoolean(e,t,n,r,i){return e[r++]=constants.BSON_DATA_BOOLEAN,r+=i?e.write(t,r,\"ascii\"):e.write(t,r,\"utf8\"),e[r++]=0,e[r++]=n?1:0,r}function serializeDate(e,t,n,r,i){e[r++]=constants.BSON_DATA_DATE,r+=i?e.write(t,r,\"ascii\"):e.write(t,r,\"utf8\"),e[r++]=0;var o=long_1.fromNumber(n.getTime()),s=o.getLowBits(),u=o.getHighBits();return e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,e[r++]=255&u,e[r++]=u>>8&255,e[r++]=u>>16&255,e[r++]=u>>24&255,r}function serializeRegExp(e,t,n,r,i){if(e[r++]=constants.BSON_DATA_REGEXP,r+=i?e.write(t,r,\"ascii\"):e.write(t,r,\"utf8\"),e[r++]=0,n.source&&null!=n.source.match(regexp$1))throw Error(\"value \"+n.source+\" must not contain null bytes\");return r+=e.write(n.source,r,\"utf8\"),e[r++]=0,n.ignoreCase&&(e[r++]=105),n.global&&(e[r++]=115),n.multiline&&(e[r++]=109),e[r++]=0,r}function serializeBSONRegExp(e,t,n,r,i){if(e[r++]=constants.BSON_DATA_REGEXP,r+=i?e.write(t,r,\"ascii\"):e.write(t,r,\"utf8\"),e[r++]=0,null!=n.pattern.match(regexp$1))throw Error(\"pattern \"+n.pattern+\" must not contain null bytes\");return r+=e.write(n.pattern,r,\"utf8\"),e[r++]=0,r+=e.write(n.options.split(\"\").sort().join(\"\"),r,\"utf8\"),e[r++]=0,r}function serializeMinMax(e,t,n,r,i){return null===n?e[r++]=constants.BSON_DATA_NULL:\"MinKey\"===n._bsontype?e[r++]=constants.BSON_DATA_MIN_KEY:e[r++]=constants.BSON_DATA_MAX_KEY,r+=i?e.write(t,r,\"ascii\"):e.write(t,r,\"utf8\"),e[r++]=0,r}function serializeObjectId(e,t,n,r,i){if(e[r++]=constants.BSON_DATA_OID,r+=i?e.write(t,r,\"ascii\"):e.write(t,r,\"utf8\"),e[r++]=0,\"string\"==typeof n.id)e.write(n.id,r,\"binary\");else{if(!n.id||!n.id.copy)throw new TypeError(\"object [\"+JSON.stringify(n)+\"] is not a valid ObjectId\");n.id.copy(e,r,0,12)}return r+12}function serializeBuffer(e,t,n,r,i){e[r++]=constants.BSON_DATA_BINARY,r+=i?e.write(t,r,\"ascii\"):e.write(t,r,\"utf8\"),e[r++]=0;var o=n.length;return e[r++]=255&o,e[r++]=o>>8&255,e[r++]=o>>16&255,e[r++]=o>>24&255,e[r++]=constants.BSON_BINARY_SUBTYPE_DEFAULT,n.copy(e,r,0,o),r+=o}function serializeObject(e,t,n,r,i,o,s,u,a,f){for(var l=0;l<f.length;l++)if(f[l]===n)throw new Error(\"cyclic dependency detected\");f.push(n),e[r++]=Array.isArray(n)?constants.BSON_DATA_ARRAY:constants.BSON_DATA_OBJECT,r+=a?e.write(t,r,\"ascii\"):e.write(t,r,\"utf8\"),e[r++]=0;var c=serializeInto(e,n,i,r,o+1,s,u,f);return f.pop(),c}function serializeDecimal128(e,t,n,r,i){return e[r++]=constants.BSON_DATA_DECIMAL128,r+=i?e.write(t,r,\"ascii\"):e.write(t,r,\"utf8\"),e[r++]=0,n.bytes.copy(e,r,0,16),r+16}function serializeLong(e,t,n,r,i){e[r++]=\"Long\"===n._bsontype?constants.BSON_DATA_LONG:constants.BSON_DATA_TIMESTAMP,r+=i?e.write(t,r,\"ascii\"):e.write(t,r,\"utf8\"),e[r++]=0;var o=n.getLowBits(),s=n.getHighBits();return e[r++]=255&o,e[r++]=o>>8&255,e[r++]=o>>16&255,e[r++]=o>>24&255,e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,r}function serializeInt32(e,t,n,r,i){return e[r++]=constants.BSON_DATA_INT,r+=i?e.write(t,r,\"ascii\"):e.write(t,r,\"utf8\"),e[r++]=0,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255,r}function serializeDouble(e,t,n,r,i){return e[r++]=constants.BSON_DATA_NUMBER,r+=i?e.write(t,r,\"ascii\"):e.write(t,r,\"utf8\"),e[r++]=0,writeIEEE754$1(e,n.value,r,\"little\",52,8),r+=8}function serializeFunction(e,t,n,r,i,o,s){e[r++]=constants.BSON_DATA_CODE,r+=s?e.write(t,r,\"ascii\"):e.write(t,r,\"utf8\"),e[r++]=0;var u=normalizedFunctionString$1(n),a=e.write(u,r+4,\"utf8\")+1;return e[r]=255&a,e[r+1]=a>>8&255,e[r+2]=a>>16&255,e[r+3]=a>>24&255,r=r+4+a-1,e[r++]=0,r}function serializeCode(e,t,n,r,i,o,s,u,a){if(n.scope&&\"object\"===_typeof$3(n.scope)){e[r++]=constants.BSON_DATA_CODE_W_SCOPE,r+=a?e.write(t,r,\"ascii\"):e.write(t,r,\"utf8\"),e[r++]=0;var f=r,l=\"string\"==typeof n.code?n.code:n.code.toString();r+=4;var c=e.write(l,r+4,\"utf8\")+1;e[r]=255&c,e[r+1]=c>>8&255,e[r+2]=c>>16&255,e[r+3]=c>>24&255,e[r+4+c-1]=0,r=r+c+4;var _=serializeInto(e,n.scope,i,r,o+1,s,u);r=_-1;var h=_-f;e[f++]=255&h,e[f++]=h>>8&255,e[f++]=h>>16&255,e[f++]=h>>24&255,e[r++]=0}else{e[r++]=constants.BSON_DATA_CODE,r+=a?e.write(t,r,\"ascii\"):e.write(t,r,\"utf8\"),e[r++]=0;var p=n.code.toString(),b=e.write(p,r+4,\"utf8\")+1;e[r]=255&b,e[r+1]=b>>8&255,e[r+2]=b>>16&255,e[r+3]=b>>24&255,r=r+4+b-1,e[r++]=0}return r}function serializeBinary(e,t,n,r,i){e[r++]=constants.BSON_DATA_BINARY,r+=i?e.write(t,r,\"ascii\"):e.write(t,r,\"utf8\"),e[r++]=0;var o=n.value(!0),s=n.position;return n.sub_type===binary.SUBTYPE_BYTE_ARRAY&&(s+=4),e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,e[r++]=n.sub_type,n.sub_type===binary.SUBTYPE_BYTE_ARRAY&&(s-=4,e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255),o.copy(e,r,0,n.position),r+=n.position}function serializeSymbol(e,t,n,r,i){e[r++]=constants.BSON_DATA_SYMBOL,r+=i?e.write(t,r,\"ascii\"):e.write(t,r,\"utf8\"),e[r++]=0;var o=e.write(n.value,r+4,\"utf8\")+1;return e[r]=255&o,e[r+1]=o>>8&255,e[r+2]=o>>16&255,e[r+3]=o>>24&255,r=r+4+o-1,e[r++]=0,r}function serializeDBRef(e,t,n,r,i,o,s){e[r++]=constants.BSON_DATA_OBJECT,r+=s?e.write(t,r,\"ascii\"):e.write(t,r,\"utf8\"),e[r++]=0;var u,a=r,f={$ref:n.collection||n.namespace,$id:n.oid};null!=n.db&&(f.$db=n.db);var l=(u=serializeInto(e,f=Object.assign(f,n.fields),!1,r,i+1,o))-a;return e[a++]=255&l,e[a++]=l>>8&255,e[a++]=l>>16&255,e[a++]=l>>24&255,u}function serializeInto(e,t,n,r,i,o,s,u){r=r||0,(u=u||[]).push(t);var a=r+4;if(Array.isArray(t))for(var f=0;f<t.length;f++){var l=\"\"+f,c=t[f];if(c&&c.toBSON){if(\"function\"!=typeof c.toBSON)throw new TypeError(\"toBSON is not a function\");c=c.toBSON()}var _=_typeof$3(c);if(\"string\"===_)a=serializeString(e,l,c,a,!0);else if(\"number\"===_)a=serializeNumber(e,l,c,a,!0);else if(\"boolean\"===_)a=serializeBoolean(e,l,c,a,!0);else if(c instanceof Date||isDate$1(c))a=serializeDate(e,l,c,a,!0);else if(void 0===c)a=serializeNull(e,l,c,a,!0);else if(null===c)a=serializeNull(e,l,c,a,!0);else if(\"ObjectId\"===c._bsontype||\"ObjectID\"===c._bsontype)a=serializeObjectId(e,l,c,a,!0);else if(Buffer$5.isBuffer(c))a=serializeBuffer(e,l,c,a,!0);else if(c instanceof RegExp||isRegExp$1(c))a=serializeRegExp(e,l,c,a,!0);else if(\"object\"===_&&null==c._bsontype)a=serializeObject(e,l,c,a,n,i,o,s,!0,u);else if(\"object\"===_&&\"Decimal128\"===c._bsontype)a=serializeDecimal128(e,l,c,a,!0);else if(\"Long\"===c._bsontype||\"Timestamp\"===c._bsontype)a=serializeLong(e,l,c,a,!0);else if(\"Double\"===c._bsontype)a=serializeDouble(e,l,c,a,!0);else if(\"function\"==typeof c&&o)a=serializeFunction(e,l,c,a,n,i,o,!0);else if(\"Code\"===c._bsontype)a=serializeCode(e,l,c,a,n,i,o,s,!0);else if(\"Binary\"===c._bsontype)a=serializeBinary(e,l,c,a,!0);else if(\"Symbol\"===c._bsontype)a=serializeSymbol(e,l,c,a,!0);else if(\"DBRef\"===c._bsontype)a=serializeDBRef(e,l,c,a,i,o,!0);else if(\"BSONRegExp\"===c._bsontype)a=serializeBSONRegExp(e,l,c,a,!0);else if(\"Int32\"===c._bsontype)a=serializeInt32(e,l,c,a,!0);else if(\"MinKey\"===c._bsontype||\"MaxKey\"===c._bsontype)a=serializeMinMax(e,l,c,a,!0);else if(void 0!==c._bsontype)throw new TypeError(\"Unrecognized or invalid _bsontype: \"+c._bsontype)}else if(t instanceof map)for(var h=t.entries(),p=!1;!p;){var b=h.next();if(!(p=b.done)){var d=b.value[0],g=b.value[1],y=_typeof$3(g);if(\"string\"==typeof d&&!ignoreKeys.has(d)){if(null!=d.match(regexp$1))throw Error(\"key \"+d+\" must not contain null bytes\");if(n){if(\"$\"===d[0])throw Error(\"key \"+d+\" must not start with '$'\");if(~d.indexOf(\".\"))throw Error(\"key \"+d+\" must not contain '.'\")}}if(\"string\"===y)a=serializeString(e,d,g,a);else if(\"number\"===y)a=serializeNumber(e,d,g,a);else if(\"boolean\"===y)a=serializeBoolean(e,d,g,a);else if(g instanceof Date||isDate$1(g))a=serializeDate(e,d,g,a);else if(null===g||void 0===g&&!1===s)a=serializeNull(e,d,g,a);else if(\"ObjectId\"===g._bsontype||\"ObjectID\"===g._bsontype)a=serializeObjectId(e,d,g,a);else if(Buffer$5.isBuffer(g))a=serializeBuffer(e,d,g,a);else if(g instanceof RegExp||isRegExp$1(g))a=serializeRegExp(e,d,g,a);else if(\"object\"===y&&null==g._bsontype)a=serializeObject(e,d,g,a,n,i,o,s,!1,u);else if(\"object\"===y&&\"Decimal128\"===g._bsontype)a=serializeDecimal128(e,d,g,a);else if(\"Long\"===g._bsontype||\"Timestamp\"===g._bsontype)a=serializeLong(e,d,g,a);else if(\"Double\"===g._bsontype)a=serializeDouble(e,d,g,a);else if(\"Code\"===g._bsontype)a=serializeCode(e,d,g,a,n,i,o,s);else if(\"function\"==typeof g&&o)a=serializeFunction(e,d,g,a,n,i,o);else if(\"Binary\"===g._bsontype)a=serializeBinary(e,d,g,a);else if(\"Symbol\"===g._bsontype)a=serializeSymbol(e,d,g,a);else if(\"DBRef\"===g._bsontype)a=serializeDBRef(e,d,g,a,i,o);else if(\"BSONRegExp\"===g._bsontype)a=serializeBSONRegExp(e,d,g,a);else if(\"Int32\"===g._bsontype)a=serializeInt32(e,d,g,a);else if(\"MinKey\"===g._bsontype||\"MaxKey\"===g._bsontype)a=serializeMinMax(e,d,g,a);else if(void 0!==g._bsontype)throw new TypeError(\"Unrecognized or invalid _bsontype: \"+g._bsontype)}}else{if(t.toBSON){if(\"function\"!=typeof t.toBSON)throw new TypeError(\"toBSON is not a function\");if(null!=(t=t.toBSON())&&\"object\"!==_typeof$3(t))throw new TypeError(\"toBSON function did not return an object\")}for(var m in t){var w=t[m];if(w&&w.toBSON){if(\"function\"!=typeof w.toBSON)throw new TypeError(\"toBSON is not a function\");w=w.toBSON()}var E=_typeof$3(w);if(\"string\"==typeof m&&!ignoreKeys.has(m)){if(null!=m.match(regexp$1))throw Error(\"key \"+m+\" must not contain null bytes\");if(n){if(\"$\"===m[0])throw Error(\"key \"+m+\" must not start with '$'\");if(~m.indexOf(\".\"))throw Error(\"key \"+m+\" must not contain '.'\")}}if(\"string\"===E)a=serializeString(e,m,w,a);else if(\"number\"===E)a=serializeNumber(e,m,w,a);else if(\"boolean\"===E)a=serializeBoolean(e,m,w,a);else if(w instanceof Date||isDate$1(w))a=serializeDate(e,m,w,a);else if(void 0===w)!1===s&&(a=serializeNull(e,m,w,a));else if(null===w)a=serializeNull(e,m,w,a);else if(\"ObjectId\"===w._bsontype||\"ObjectID\"===w._bsontype)a=serializeObjectId(e,m,w,a);else if(Buffer$5.isBuffer(w))a=serializeBuffer(e,m,w,a);else if(w instanceof RegExp||isRegExp$1(w))a=serializeRegExp(e,m,w,a);else if(\"object\"===E&&null==w._bsontype)a=serializeObject(e,m,w,a,n,i,o,s,!1,u);else if(\"object\"===E&&\"Decimal128\"===w._bsontype)a=serializeDecimal128(e,m,w,a);else if(\"Long\"===w._bsontype||\"Timestamp\"===w._bsontype)a=serializeLong(e,m,w,a);else if(\"Double\"===w._bsontype)a=serializeDouble(e,m,w,a);else if(\"Code\"===w._bsontype)a=serializeCode(e,m,w,a,n,i,o,s);else if(\"function\"==typeof w&&o)a=serializeFunction(e,m,w,a,n,i,o);else if(\"Binary\"===w._bsontype)a=serializeBinary(e,m,w,a);else if(\"Symbol\"===w._bsontype)a=serializeSymbol(e,m,w,a);else if(\"DBRef\"===w._bsontype)a=serializeDBRef(e,m,w,a,i,o);else if(\"BSONRegExp\"===w._bsontype)a=serializeBSONRegExp(e,m,w,a);else if(\"Int32\"===w._bsontype)a=serializeInt32(e,m,w,a);else if(\"MinKey\"===w._bsontype||\"MaxKey\"===w._bsontype)a=serializeMinMax(e,m,w,a);else if(void 0!==w._bsontype)throw new TypeError(\"Unrecognized or invalid _bsontype: \"+w._bsontype)}}u.pop(),e[a++]=0;var N=a-r;return e[r++]=255&N,e[r++]=N>>8&255,e[r++]=N>>16&255,e[r++]=N>>24&255,a}var serializer=serializeInto;function _typeof$4(e){return(_typeof$4=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}var Buffer$6=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,normalizedFunctionString$2=utils.normalizedFunctionString;function isDate$2(e){return\"object\"===_typeof$4(e)&&\"[object Date]\"===Object.prototype.toString.call(e)}function calculateObjectSize(e,t,n){var r=5;if(Array.isArray(e))for(var i=0;i<e.length;i++)r+=calculateElement(i.toString(),e[i],t,!0,n);else for(var o in e.toBSON&&(e=e.toBSON()),e)r+=calculateElement(o,e[o],t,!1,n);return r}function calculateElement(e,t,n,r,i){switch(t&&t.toBSON&&(t=t.toBSON()),_typeof$4(t)){case\"string\":return 1+Buffer$6.byteLength(e,\"utf8\")+1+4+Buffer$6.byteLength(t,\"utf8\")+1;case\"number\":return Math.floor(t)===t&&t>=constants.JS_INT_MIN&&t<=constants.JS_INT_MAX&&t>=constants.BSON_INT32_MIN&&t<=constants.BSON_INT32_MAX?(null!=e?Buffer$6.byteLength(e,\"utf8\")+1:0)+5:(null!=e?Buffer$6.byteLength(e,\"utf8\")+1:0)+9;case\"undefined\":return r||!i?(null!=e?Buffer$6.byteLength(e,\"utf8\")+1:0)+1:0;case\"boolean\":return(null!=e?Buffer$6.byteLength(e,\"utf8\")+1:0)+2;case\"object\":if(null==t||\"MinKey\"===t._bsontype||\"MaxKey\"===t._bsontype)return(null!=e?Buffer$6.byteLength(e,\"utf8\")+1:0)+1;if(\"ObjectId\"===t._bsontype||\"ObjectID\"===t._bsontype)return(null!=e?Buffer$6.byteLength(e,\"utf8\")+1:0)+13;if(t instanceof Date||isDate$2(t))return(null!=e?Buffer$6.byteLength(e,\"utf8\")+1:0)+9;if(void 0!==Buffer$6&&Buffer$6.isBuffer(t))return(null!=e?Buffer$6.byteLength(e,\"utf8\")+1:0)+6+t.length;if(\"Long\"===t._bsontype||\"Double\"===t._bsontype||\"Timestamp\"===t._bsontype)return(null!=e?Buffer$6.byteLength(e,\"utf8\")+1:0)+9;if(\"Decimal128\"===t._bsontype)return(null!=e?Buffer$6.byteLength(e,\"utf8\")+1:0)+17;if(\"Code\"===t._bsontype)return null!=t.scope&&Object.keys(t.scope).length>0?(null!=e?Buffer$6.byteLength(e,\"utf8\")+1:0)+1+4+4+Buffer$6.byteLength(t.code.toString(),\"utf8\")+1+calculateObjectSize(t.scope,n,i):(null!=e?Buffer$6.byteLength(e,\"utf8\")+1:0)+1+4+Buffer$6.byteLength(t.code.toString(),\"utf8\")+1;if(\"Binary\"===t._bsontype)return t.sub_type===binary.SUBTYPE_BYTE_ARRAY?(null!=e?Buffer$6.byteLength(e,\"utf8\")+1:0)+(t.position+1+4+1+4):(null!=e?Buffer$6.byteLength(e,\"utf8\")+1:0)+(t.position+1+4+1);if(\"Symbol\"===t._bsontype)return(null!=e?Buffer$6.byteLength(e,\"utf8\")+1:0)+Buffer$6.byteLength(t.value,\"utf8\")+4+1+1;if(\"DBRef\"===t._bsontype){var o=Object.assign({$ref:t.collection,$id:t.oid},t.fields);return null!=t.db&&(o.$db=t.db),(null!=e?Buffer$6.byteLength(e,\"utf8\")+1:0)+1+calculateObjectSize(o,n,i)}return t instanceof RegExp||\"[object RegExp]\"===Object.prototype.toString.call(t)?(null!=e?Buffer$6.byteLength(e,\"utf8\")+1:0)+1+Buffer$6.byteLength(t.source,\"utf8\")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1:\"BSONRegExp\"===t._bsontype?(null!=e?Buffer$6.byteLength(e,\"utf8\")+1:0)+1+Buffer$6.byteLength(t.pattern,\"utf8\")+1+Buffer$6.byteLength(t.options,\"utf8\")+1:(null!=e?Buffer$6.byteLength(e,\"utf8\")+1:0)+calculateObjectSize(t,n,i)+1;case\"function\":if(t instanceof RegExp||\"[object RegExp]\"===Object.prototype.toString.call(t)||\"[object RegExp]\"===String.call(t))return(null!=e?Buffer$6.byteLength(e,\"utf8\")+1:0)+1+Buffer$6.byteLength(t.source,\"utf8\")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1;if(n&&null!=t.scope&&Object.keys(t.scope).length>0)return(null!=e?Buffer$6.byteLength(e,\"utf8\")+1:0)+1+4+4+Buffer$6.byteLength(normalizedFunctionString$2(t),\"utf8\")+1+calculateObjectSize(t.scope,n,i);if(n)return(null!=e?Buffer$6.byteLength(e,\"utf8\")+1:0)+1+4+Buffer$6.byteLength(normalizedFunctionString$2(t),\"utf8\")+1}return 0}var calculate_size=calculateObjectSize,Buffer$7=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,ensure_buffer=function(e){if(e instanceof Buffer$7)return e;if(e instanceof Uint8Array)return Buffer$7.from(e.buffer);throw new TypeError(\"Must use either Buffer or Uint8Array\")},Buffer$8=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,MAXSIZE=17825792,buffer$1=Buffer$8.alloc(MAXSIZE);function setInternalBufferSize(e){buffer$1.length<e&&(buffer$1=Buffer$8.alloc(e))}function serialize$1(e,t){var n=\"boolean\"==typeof(t=t||{}).checkKeys&&t.checkKeys,r=\"boolean\"==typeof t.serializeFunctions&&t.serializeFunctions,i=\"boolean\"!=typeof t.ignoreUndefined||t.ignoreUndefined,o=\"number\"==typeof t.minInternalBufferSize?t.minInternalBufferSize:MAXSIZE;buffer$1.length<o&&(buffer$1=Buffer$8.alloc(o));var s=serializer(buffer$1,e,n,0,0,r,i,[]),u=Buffer$8.alloc(s);return buffer$1.copy(u,0,0,u.length),u}function serializeWithBufferAndIndex(e,t,n){var r=\"boolean\"==typeof(n=n||{}).checkKeys&&n.checkKeys,i=\"boolean\"==typeof n.serializeFunctions&&n.serializeFunctions,o=\"boolean\"!=typeof n.ignoreUndefined||n.ignoreUndefined,s=\"number\"==typeof n.index?n.index:0,u=serializer(buffer$1,e,r,0,0,i,o);return buffer$1.copy(t,s,0,u),s+u-1}function deserialize$2(e,t){return e=ensure_buffer(e),deserializer(e,t)}function calculateObjectSize$1(e,t){var n=\"boolean\"==typeof(t=t||{}).serializeFunctions&&t.serializeFunctions,r=\"boolean\"!=typeof t.ignoreUndefined||t.ignoreUndefined;return calculate_size(e,n,r)}function deserializeStream(e,t,n,r,i,o){o=Object.assign({allowObjectSmallerThanBufferSize:!0},o),e=ensure_buffer(e);for(var s=t,u=0;u<n;u++){var a=e[s]|e[s+1]<<8|e[s+2]<<16|e[s+3]<<24;o.index=s,r[i+u]=deserializer(e,o),s+=a}return s}var bson={BSON_INT32_MAX:constants.BSON_INT32_MAX,BSON_INT32_MIN:constants.BSON_INT32_MIN,BSON_INT64_MAX:constants.BSON_INT64_MAX,BSON_INT64_MIN:constants.BSON_INT64_MIN,JS_INT_MAX:constants.JS_INT_MAX,JS_INT_MIN:constants.JS_INT_MIN,BSON_DATA_NUMBER:constants.BSON_DATA_NUMBER,BSON_DATA_STRING:constants.BSON_DATA_STRING,BSON_DATA_OBJECT:constants.BSON_DATA_OBJECT,BSON_DATA_ARRAY:constants.BSON_DATA_ARRAY,BSON_DATA_BINARY:constants.BSON_DATA_BINARY,BSON_DATA_UNDEFINED:constants.BSON_DATA_UNDEFINED,BSON_DATA_OID:constants.BSON_DATA_OID,BSON_DATA_BOOLEAN:constants.BSON_DATA_BOOLEAN,BSON_DATA_DATE:constants.BSON_DATA_DATE,BSON_DATA_NULL:constants.BSON_DATA_NULL,BSON_DATA_REGEXP:constants.BSON_DATA_REGEXP,BSON_DATA_DBPOINTER:constants.BSON_DATA_DBPOINTER,BSON_DATA_CODE:constants.BSON_DATA_CODE,BSON_DATA_SYMBOL:constants.BSON_DATA_SYMBOL,BSON_DATA_CODE_W_SCOPE:constants.BSON_DATA_CODE_W_SCOPE,BSON_DATA_INT:constants.BSON_DATA_INT,BSON_DATA_TIMESTAMP:constants.BSON_DATA_TIMESTAMP,BSON_DATA_LONG:constants.BSON_DATA_LONG,BSON_DATA_DECIMAL128:constants.BSON_DATA_DECIMAL128,BSON_DATA_MIN_KEY:constants.BSON_DATA_MIN_KEY,BSON_DATA_MAX_KEY:constants.BSON_DATA_MAX_KEY,BSON_BINARY_SUBTYPE_DEFAULT:constants.BSON_BINARY_SUBTYPE_DEFAULT,BSON_BINARY_SUBTYPE_FUNCTION:constants.BSON_BINARY_SUBTYPE_FUNCTION,BSON_BINARY_SUBTYPE_BYTE_ARRAY:constants.BSON_BINARY_SUBTYPE_BYTE_ARRAY,BSON_BINARY_SUBTYPE_UUID:constants.BSON_BINARY_SUBTYPE_UUID,BSON_BINARY_SUBTYPE_MD5:constants.BSON_BINARY_SUBTYPE_MD5,BSON_BINARY_SUBTYPE_USER_DEFINED:constants.BSON_BINARY_SUBTYPE_USER_DEFINED,Code:code,Map:map,BSONSymbol:symbol,DBRef:db_ref,Binary:binary,ObjectId:objectid,Long:long_1,Timestamp:timestamp,Double:double_1,Int32:int_32,MinKey:min_key,MaxKey:max_key,BSONRegExp:regexp,Decimal128:decimal128,serialize:serialize$1,serializeWithBufferAndIndex:serializeWithBufferAndIndex,deserialize:deserialize$2,calculateObjectSize:calculateObjectSize$1,deserializeStream:deserializeStream,setInternalBufferSize:setInternalBufferSize,ObjectID:objectid,EJSON:extended_json},bson_1=bson.BSON_INT32_MAX,bson_2=bson.BSON_INT32_MIN,bson_3=bson.BSON_INT64_MAX,bson_4=bson.BSON_INT64_MIN,bson_5=bson.JS_INT_MAX,bson_6=bson.JS_INT_MIN,bson_7=bson.BSON_DATA_NUMBER,bson_8=bson.BSON_DATA_STRING,bson_9=bson.BSON_DATA_OBJECT,bson_10=bson.BSON_DATA_ARRAY,bson_11=bson.BSON_DATA_BINARY,bson_12=bson.BSON_DATA_UNDEFINED,bson_13=bson.BSON_DATA_OID,bson_14=bson.BSON_DATA_BOOLEAN,bson_15=bson.BSON_DATA_DATE,bson_16=bson.BSON_DATA_NULL,bson_17=bson.BSON_DATA_REGEXP,bson_18=bson.BSON_DATA_DBPOINTER,bson_19=bson.BSON_DATA_CODE,bson_20=bson.BSON_DATA_SYMBOL,bson_21=bson.BSON_DATA_CODE_W_SCOPE,bson_22=bson.BSON_DATA_INT,bson_23=bson.BSON_DATA_TIMESTAMP,bson_24=bson.BSON_DATA_LONG,bson_25=bson.BSON_DATA_DECIMAL128,bson_26=bson.BSON_DATA_MIN_KEY,bson_27=bson.BSON_DATA_MAX_KEY,bson_28=bson.BSON_BINARY_SUBTYPE_DEFAULT,bson_29=bson.BSON_BINARY_SUBTYPE_FUNCTION,bson_30=bson.BSON_BINARY_SUBTYPE_BYTE_ARRAY,bson_31=bson.BSON_BINARY_SUBTYPE_UUID,bson_32=bson.BSON_BINARY_SUBTYPE_MD5,bson_33=bson.BSON_BINARY_SUBTYPE_USER_DEFINED,bson_34=bson.Code,bson_35=bson.BSONSymbol,bson_36=bson.DBRef,bson_37=bson.Binary,bson_38=bson.ObjectId,bson_39=bson.Long,bson_40=bson.Timestamp,bson_41=bson.Double,bson_42=bson.Int32,bson_43=bson.MinKey,bson_44=bson.MaxKey,bson_45=bson.BSONRegExp,bson_46=bson.Decimal128,bson_47=bson.serialize,bson_48=bson.serializeWithBufferAndIndex,bson_49=bson.deserialize,bson_50=bson.calculateObjectSize,bson_51=bson.deserializeStream,bson_52=bson.setInternalBufferSize,bson_53=bson.ObjectID,bson_54=bson.EJSON;__webpack_exports__.default=bson}.call(this,__webpack_require__(2),__webpack_require__(0).Buffer)},function(e,t,n){\"use strict\";t.byteLength=function(e){var t=f(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=f(e),r=n[0],s=n[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,r,s)),a=0,l=s>0?r-4:r,c=0;c<l;c+=4)t=i[e.charCodeAt(c)]<<18|i[e.charCodeAt(c+1)]<<12|i[e.charCodeAt(c+2)]<<6|i[e.charCodeAt(c+3)],u[a++]=t>>16&255,u[a++]=t>>8&255,u[a++]=255&t;2===s&&(t=i[e.charCodeAt(c)]<<2|i[e.charCodeAt(c+1)]>>4,u[a++]=255&t);1===s&&(t=i[e.charCodeAt(c)]<<10|i[e.charCodeAt(c+1)]<<4|i[e.charCodeAt(c+2)]>>2,u[a++]=t>>8&255,u[a++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=0,u=n-i;s<u;s+=16383)o.push(l(e,s,s+16383>u?u:s+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+\"==\")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+\"=\"));return o.join(\"\")};for(var r=[],i=[],o=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,s=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",u=0,a=s.length;u<a;++u)r[u]=s[u],i[s.charCodeAt(u)]=u;function f(e){var t=e.length;if(t%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");var n=e.indexOf(\"=\");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,o,s=[],u=t;u<n;u+=3)i=(e[u]<<16&16711680)+(e[u+1]<<8&65280)+(255&e[u+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join(\"\")}i[\"-\".charCodeAt(0)]=62,i[\"_\".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,s,u=8*i-r-1,a=(1<<u)-1,f=a>>1,l=-7,c=n?i-1:0,_=n?-1:1,h=e[t+c];for(c+=_,o=h&(1<<-l)-1,h>>=-l,l+=u;l>0;o=256*o+e[t+c],c+=_,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+c],c+=_,l-=8);if(0===o)o=1-f;else{if(o===a)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),o-=f}return(h?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,u,a,f=8*o-i-1,l=(1<<f)-1,c=l>>1,_=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,b=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(a=Math.pow(2,-s))<1&&(s--,a*=2),(t+=s+c>=1?_/a:_*Math.pow(2,1-c))*a>=2&&(s++,a/=2),s+c>=l?(u=0,s=l):s+c>=1?(u=(t*a-1)*Math.pow(2,i),s+=c):(u=t*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;e[n+h]=255&u,h+=p,u/=256,i-=8);for(s=s<<i|u,f+=i;f>0;e[n+h]=255&s,h+=p,s/=256,f-=8);e[n+h-p]|=128*b}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return\"[object Array]\"==n.call(e)}},function(e,t,n){\"use strict\";n.r(t);\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\nvar r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(e,t){this.target=t,this.type=e},s=function(e){function t(t,n){var r=e.call(this,\"error\",n)||this;return r.message=t.message,r.error=t,r}return i(t,e),t}(o),u=function(e){function t(t,n,r){void 0===t&&(t=1e3),void 0===n&&(n=\"\");var i=e.call(this,\"close\",r)||this;return i.wasClean=!0,i.code=t,i.reason=n,i}return i(t,e),t}(o),a=function(){if(\"undefined\"!=typeof WebSocket)return WebSocket},f={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+4e3*Math.random(),minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,debug:!1};const l=new(function(){function e(e,t,n){void 0===n&&(n={});var r=this;this._listeners={error:[],message:[],open:[],close:[]},this._retryCount=-1,this._shouldReconnect=!0,this._connectLock=!1,this._binaryType=\"blob\",this._closeCalled=!1,this._messageQueue=[],this.onclose=void 0,this.onerror=void 0,this.onmessage=void 0,this.onopen=void 0,this._handleOpen=function(e){r._debug(\"open event\");var t=r._options.minUptime,n=void 0===t?f.minUptime:t;clearTimeout(r._connectTimeout),r._uptimeTimeout=setTimeout(function(){return r._acceptOpen()},n),r._ws.binaryType=r._binaryType,r._messageQueue.forEach(function(e){return r._ws.send(e)}),r._messageQueue=[],r.onopen&&r.onopen(e),r._listeners.open.forEach(function(t){return r._callEventListener(e,t)})},this._handleMessage=function(e){r._debug(\"message event\"),r.onmessage&&r.onmessage(e),r._listeners.message.forEach(function(t){return r._callEventListener(e,t)})},this._handleError=function(e){r._debug(\"error event\",e.message),r._disconnect(void 0,\"TIMEOUT\"===e.message?\"timeout\":void 0),r.onerror&&r.onerror(e),r._debug(\"exec error listeners\"),r._listeners.error.forEach(function(t){return r._callEventListener(e,t)}),r._connect()},this._handleClose=function(e){r._debug(\"close event\"),r._clearTimeouts(),r._shouldReconnect&&r._connect(),r.onclose&&r.onclose(e),r._listeners.close.forEach(function(t){return r._callEventListener(e,t)})},this._url=e,this._protocols=t,this._options=n,this._connect()}return Object.defineProperty(e,\"CONNECTING\",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e,\"OPEN\",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(e,\"CLOSING\",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(e,\"CLOSED\",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"CONNECTING\",{get:function(){return e.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"OPEN\",{get:function(){return e.OPEN},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"CLOSING\",{get:function(){return e.CLOSING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"CLOSED\",{get:function(){return e.CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"binaryType\",{get:function(){return this._ws?this._ws.binaryType:this._binaryType},set:function(e){this._binaryType=e,this._ws&&(this._ws.binaryType=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"retryCount\",{get:function(){return Math.max(this._retryCount,0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"bufferedAmount\",{get:function(){return this._messageQueue.reduce(function(e,t){return\"string\"==typeof t?e+=t.length:t instanceof Blob?e+=t.size:e+=t.byteLength,e},0)+(this._ws?this._ws.bufferedAmount:0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"extensions\",{get:function(){return this._ws?this._ws.extensions:\"\"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"protocol\",{get:function(){return this._ws?this._ws.protocol:\"\"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"readyState\",{get:function(){return this._ws?this._ws.readyState:e.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"url\",{get:function(){return this._ws?this._ws.url:\"\"},enumerable:!0,configurable:!0}),e.prototype.close=function(e,t){void 0===e&&(e=1e3),this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),this._ws?this._ws.readyState!==this.CLOSED?this._ws.close(e,t):this._debug(\"close: already closed\"):this._debug(\"close enqueued: no ws instance\")},e.prototype.reconnect=function(e,t){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,this._ws&&this._ws.readyState!==this.CLOSED?(this._disconnect(e,t),this._connect()):this._connect()},e.prototype.send=function(e){this._ws&&this._ws.readyState===this.OPEN?(this._debug(\"send\",e),this._ws.send(e)):(this._debug(\"enqueue\",e),this._messageQueue.push(e))},e.prototype.addEventListener=function(e,t){this._listeners[e]&&this._listeners[e].push(t)},e.prototype.removeEventListener=function(e,t){this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter(function(e){return e!==t}))},e.prototype._debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._options.debug&&console.log.apply(console,[\"RWS>\"].concat(e))},e.prototype._getNextDelay=function(){var e=this._options,t=e.reconnectionDelayGrowFactor,n=void 0===t?f.reconnectionDelayGrowFactor:t,r=e.minReconnectionDelay,i=void 0===r?f.minReconnectionDelay:r,o=e.maxReconnectionDelay,s=void 0===o?f.maxReconnectionDelay:o,u=i;return this._retryCount>0&&(u=i*Math.pow(n,this._retryCount-1))>s&&(u=s),this._debug(\"next delay\",u),u},e.prototype._wait=function(){var e=this;return new Promise(function(t){setTimeout(t,e._getNextDelay())})},e.prototype._getNextUrl=function(e){if(\"string\"==typeof e)return Promise.resolve(e);if(\"function\"==typeof e){var t=e();if(\"string\"==typeof t)return Promise.resolve(t);if(t.then)return t}throw Error(\"Invalid URL\")},e.prototype._connect=function(){var e=this;if(!this._connectLock&&this._shouldReconnect){this._connectLock=!0;var t=this._options,n=t.maxRetries,r=void 0===n?f.maxRetries:n,i=t.connectionTimeout,o=void 0===i?f.connectionTimeout:i,s=t.WebSocket,u=void 0===s?a():s;if(this._retryCount>=r)this._debug(\"max retries reached\",this._retryCount,\">=\",r);else{if(this._retryCount++,this._debug(\"connect\",this._retryCount),this._removeListeners(),\"function\"!=typeof(l=u)||2!==l.CLOSING)throw Error(\"No valid WebSocket class provided\");var l;this._wait().then(function(){return e._getNextUrl(e._url)}).then(function(t){e._closeCalled?e._connectLock=!1:(e._debug(\"connect\",{url:t,protocols:e._protocols}),e._ws=e._protocols?new u(t,e._protocols):new u(t),e._ws.binaryType=e._binaryType,e._connectLock=!1,e._addListeners(),e._connectTimeout=setTimeout(function(){return e._handleTimeout()},o))})}}},e.prototype._handleTimeout=function(){this._debug(\"timeout event\"),this._handleError(new s(Error(\"TIMEOUT\"),this))},e.prototype._disconnect=function(e,t){if(void 0===e&&(e=1e3),this._clearTimeouts(),this._ws){this._removeListeners();try{this._ws.close(e,t),this._handleClose(new u(e,t,this))}catch(e){}}},e.prototype._acceptOpen=function(){this._debug(\"accept open\"),this._retryCount=0},e.prototype._callEventListener=function(e,t){\"handleEvent\"in t?t.handleEvent(e):t(e)},e.prototype._removeListeners=function(){this._ws&&(this._debug(\"removeListeners\"),this._ws.removeEventListener(\"open\",this._handleOpen),this._ws.removeEventListener(\"close\",this._handleClose),this._ws.removeEventListener(\"message\",this._handleMessage),this._ws.removeEventListener(\"error\",this._handleError))},e.prototype._addListeners=function(){this._ws&&(this._debug(\"addListeners\"),this._ws.addEventListener(\"open\",this._handleOpen),this._ws.addEventListener(\"close\",this._handleClose),this._ws.addEventListener(\"message\",this._handleMessage),this._ws.addEventListener(\"error\",this._handleError))},e.prototype._clearTimeouts=function(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)},e}())(\"ws://3.82.120.170:8080\");n(3);let c,_,h,p=null;async function b(e){console.log(e.sdp),c.setRemoteDescription(e);try{_=await c.createAnswer(),console.log(\"remote Answer\",_),async function(e){c.setLocalDescription(e),console.log(\"set remote Answer on remote local descritption\",e.sdp),l.send(JSON.stringify({type:\"remoteAnswer\",remoteAnswer:_}))}(_)}catch(e){}}function d(e){console.log(\"receive channel callback\"),h=e.channel,console.log(\"Receive Chanenl\",h),h.binaryType=\"blob\",h.addEventListener(\"close\",y),h.addEventListener(\"message\",g)}async function g(e){console.log(\"Message:\",e),console.log(\"BLOOOOOOOOB\",e.data.stream());var t=e.data,n=(window.URL||window.webkitURL).createObjectURL(t);document.getElementById(\"bitmapdata\").src=n,console.log(\"url of image  is \",n),h.send(\"Tanveer Anand did the work fuck this is basic shit.\")}function y(){}console.log(l),l.onopen=()=>{l.send(JSON.stringify({username:\"remotePeer\",type:\"addUser\"}))},l.onmessage=e=>{switch((e=JSON.parse(e.data)).type){case\"offer\":console.log(\"remote peer\",e.localOffer),b(e.localOffer);break;case\"localCandidate\":console.log(\"localCandidate\",e.localCandidate),p||async function(e){try{console.log(e),await c.addIceCandidate(e),console.log(\"AddIceCandidate successful: \",e)}catch(e){console.error(\"Failed to add Ice Candidate: \",e)}}(p=e.localCandidate)}},async function(){(c=new RTCPeerConnection(null)).addEventListener(\"icecandidate\",e=>{!async function(e,t){const n=t.candidate;null!==n&&l.send(JSON.stringify({type:\"remoteCandidate\",remoteCandidate:n}))}(0,e)}),c.addEventListener(\"datachannel\",d),console.log(c)}()}]);","extractedComments":[]}